<html lang="en">
<head>
<title>Numdiff Manual 5.8</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Numdiff Manual 5.8">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
_"...und der eignen Kraft vertrauend steigt ein frei Geschlecht empor!"_



This manual describes how to install and use Numdiff,
a program which compares
putatively similar files line by line and field by field,
ignoring small numeric differences or/and different numeric formats.

Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013  Ivano Primi  <ivprimi(at)libero(dot)it>

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in *note
     GNU Free Documentation License::.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<h1 class="settitle">Numdiff Manual 5.8</h1>
<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">Numdiff User Manual</a>
<li><a name="toc_Copying" href="#Copying">1 Copying</a>
<li><a name="toc_Acknowledgments" href="#Acknowledgments">2 Acknowledgments</a>
<li><a name="toc_Overview" href="#Overview">3 Overview</a>
<ul>
<li><a href="#Output-format">3.1 Output format</a>
<li><a href="#Overview-mode">3.2 Overview mode</a>
<li><a href="#Filter-output">3.3 Output of the filter</a>
</li></ul>
<li><a name="toc_Installing" href="#Installing">4 Installing</a>
<li><a name="toc_Invoking-numdiff" href="#Invoking-numdiff">5 Invoking numdiff</a>
<li><a name="toc_ndselect" href="#ndselect">6 Selecting lines and fields for the comparison</a>
<li><a name="toc_Invoking-ndselect" href="#Invoking-ndselect">7 Invoking ndselect</a>
<li><a name="toc_Filtering" href="#Filtering">8 Using the filter of numdiff</a>
<li><a name="toc_Warnings" href="#Warnings">9 Warnings</a>
<li><a name="toc_GNU-Free-Documentation-License" href="#GNU-Free-Documentation-License">Appendix A GNU Free Documentation License</a>
<li><a name="toc_Index" href="#Index">Index</a>
</li></ul>
</div>



<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying">Copying</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Numdiff User Manual</h2>

<p><em>&ldquo;...und der eignen Kraft vertrauend steigt ein frei Geschlecht empor!&rdquo;</em>
   <pre class="sp">


</pre>

This manual describes how to install and use Numdiff,
a program which compares
putatively similar files line by line and field by field,
ignoring small numeric differences or/and different numeric formats.

   <p>Copyright &copy; 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013  Ivano Primi  <a href="mailto:ivprimi(at)libero(dot)it">ivprimi(at)libero(dot)it</a>

   <blockquote>
Permission is granted to copy, distribute and/or modify this
document under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. 
A copy of the license is included in <a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>. 
</blockquote>

<ul class="menu">
<li><a accesskey="1" href="#Copying">Copying</a>:                      Numdiff Copying Conditions (GPL)
<li><a accesskey="2" href="#Acknowledgments">Acknowledgments</a>:              Acknowledgments
<li><a accesskey="3" href="#Overview">Overview</a>:                     Introduction to numdiff
<li><a accesskey="4" href="#Installing">Installing</a>:                   How to install numdiff
<li><a accesskey="5" href="#Invoking-numdiff">Invoking numdiff</a>:             How to use numdiff
<li><a accesskey="6" href="#ndselect">ndselect</a>:                     (numdiff) ndselect. Selecting lines and fields
<li><a accesskey="7" href="#Invoking-ndselect">Invoking ndselect</a>:            How to use ndselect
<li><a accesskey="8" href="#Filtering">Filtering</a>:                    How to use the filter of numdiff
<li><a accesskey="9" href="#Warnings">Warnings</a>:                     Various recommendations
<li><a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>:   The license covering this document
<li><a href="#Index">Index</a>:                        Complete index
</ul>

<div class="node">
<a name="Copying"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Acknowledgments">Acknowledgments</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Copying</h2>

<p><a name="index-Copying-Conditions-1"></a><a name="index-License-2"></a><a name="index-GNU-General-Public-License-3"></a><a name="index-GPL-4"></a>
Numdiff (also written numdiff) is free software:
you can redistribute it and/or modify
it under the terms of the GNU General Public License
as published by the Free Software Foundation,
either version 3 of the License, or
(at your option) any later version.

   <p>Numdiff is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

   <p>You should have received a copy of the GNU General Public License
along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

<div class="node">
<a name="Acknowledgments"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Overview">Overview</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying">Copying</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Acknowledgments</h2>

<p><a name="index-Acknowledgments-5"></a><a name="index-Thanks-6"></a>
I want to thank Mr. Norman Clerman <a href="mailto:norm(dot)opcon(at)fuse(dot)net">norm(dot)opcon(at)fuse(dot)net</a>
for several suggestions he gave me to improve the readability
and the effectiveness of the output produced by Numdiff. 
He also pointed out the need to implement a filter
to resynchronize the lines between two files in case of
addition or deletion of one or more lines. 
I have to give him credit for the urge to prepare the
versions 4.x and 5.x of Numdiff.

   <p>Moreover, I want to thank my friends Mariapia Palombaro,
since she removed some errors while
reviewing the first version of this document, and
Paolo Caramanica, who suggested me to add more
information to the output of the option <samp><span class="option">-S</span></samp>.

<div class="node">
<a name="Overview"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Installing">Installing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Acknowledgments">Acknowledgments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Overview</h2>

<p><a name="index-Introduction-7"></a><a name="index-Usage-of-numdiff-8"></a><a name="index-Purposes-9"></a><a name="index-How-to-use-numdiff-10"></a>
Computer users often find occasion to ask how two files differ. 
Perhaps one file is a newer version of the other file.  Or maybe the
two files started out as identical copies but were changed by different
people.

   <p>There are several ways to think about the differences between two
files.  One way to think of the differences is as a series of lines
that were deleted from, inserted in, or changed in one file to produce
the other file. 
The well-known <samp><span class="command">diff</span></samp> program compares two files line by line,
finds groups of lines that differ, and reports each group of differing lines. 
Without particular options, the <samp><span class="command">diff</span></samp> program considers any
change in the amount or in the type of the characters as a
relevant difference. However, trough some command line options
it also provides ways to suppress certain kinds of
differences that are not important to the user. 
For instance, <samp><span class="command">diff</span></samp> provides ways to ignore differences
in the amount of white space between words or lines, or
differences in alphabetic case.

   <p>Another way to think of the differences is as a series of words
that were deleted from, inserted in, or changed in one file to produce
the other file. 
Here &ldquo;word&rdquo; refers to a sequence of non white-space characters
delimited by a couple of white-spaces, one before and the other
one after the word.

   <p>The less known <samp><span class="command">wdiff</span></samp> program by Franc,ois Pinard
<a href="mailto:pinard(at)iro(dot)umontreal(dot)ca">pinard(at)iro(dot)umontreal(dot)ca</a>
compares words in two files and reports the differences.

   <p>At last, one can think of the differences between two files as a
sequence of pairs of bytes that can be either identical or different. 
The <samp><span class="command">cmp</span></samp> program reports the differences between two files
byte by byte, instead of line by line or word by word. 
As a result, it is often more useful than <samp><span class="command">diff</span></samp> or <samp><span class="command">wdiff</span></samp>
for comparing binary files.

   <p>However, none of these approaches turns out to be good when
you want to compare a couple of text files composed
partially or entirely by numerical fields. 
Indeed, when you compare a couple of such files,
what you want to obtain usually is a list of the numerical fields
in the second file which <strong>numerically</strong> differ
from the corresponding fields in the first file. 
But, as you probably knows, a number can be written
using different notations and programs like <samp><span class="command">diff</span></samp> or <samp><span class="command">wdiff</span></samp>
can not recognize whether a difference between two numeric fields
is only due to the notation or is actually a difference of numerical
values.

   <p>For instance, 11.23   and   11.2300000
are the same number but represented in different ways. 
While, if you are interested in the numerical values, it is obvious
that the difference in the representation is not meaningful
and then it should be ignored, however <samp><span class="command">diff</span></samp> and <samp><span class="command">wdiff</span></samp>
consider the previous one as a relevant difference and there
is no way for you to tell these programs to ignore it!

   <p>Another example of this type is given by
98765.4321  and  9.87654321E04
where the difference is only due to the use
of the scientific notation in place of the ordinary decimal notation.

   <p>Moreover, depending on your country you could stick
to different conventions in writing numbers. 
For instance, the amount &ldquo;three hundred millions and
fifty-two thousands of dollars and forty-six cents&rdquo;
is usually written by an Italian accountant as 300.052.000,46$
while an American accountant would write 300,052,000.46$. 
Of course, 300.052.000,46$  and  300,052,000.46$
represent the same amount of money but
<samp><span class="command">diff</span></samp> and <samp><span class="command">wdiff</span></samp> would report a difference,
which probably is not what you want in a similar
case.

   <p>At last, sometimes you could want to ignore even
differences in numerical values as long as they do not
overcome a certain threshold. In other words,
you could desire to suppress all &ldquo;small&rdquo; numerical
differences too.

   <p>For instance, it could happen that you want to ignore
all numerical differences whose absolute value is
not greater than 0.0001. If this is the case, then
the numerical fields 33  and  33.00009
must be considered equal, while 33  and  33.00011
must be reported as different.

   <p>However, <samp><span class="command">diff</span></samp> and <samp><span class="command">wdiff</span></samp> can not be used
to ignore &ldquo;small&rdquo; numerical differences, since they
do not even know what a numerical difference is.

   <p>What I have been saying till now explains why
I decided to implement a new program with
the capability to &ldquo;appropriately&rdquo; compare files containing numerical
fields. 
In writing this program I was inspired by <samp><span class="command">ndiff</span></samp>,
a GPL'ed software by Nelson H. Baabe of the Salt Lake
City University. The author of <samp><span class="command">ndiff</span></samp> had the same
good reasons as me to write <samp><span class="command">ndiff</span></samp>. <samp><span class="command">ndiff</span></samp>
is actually a good tool and I used it for a while. But I did not
completely like the way it works and so <samp><span class="command">numdiff</span></samp> was
born. 
Although <samp><span class="command">ndiff</span></samp> inspired <samp><span class="command">numdiff</span></samp>, they are completely
different from the viewpoint of the source code:
<samp><span class="command">numdiff</span></samp> has been entirely written from scratch
with the addition of code coming from GNU bc, GNU diff
and GNUlib. 
In addition, the last versions of Numdiff offer much more
features than <samp><span class="command">ndiff</span></samp> does.

   <p><samp><span class="command">numdiff</span></samp> can be used to compare putatively similar files
line by line and field by field, ignoring small numeric differences
or/and different numeric formats. 
<samp><span class="command">numdiff</span></samp> takes two mandatory arguments, the paths of the
two files to compare, and, after splitting them into lines
and the lines into fields
according to a given list of field delimiters, it compares
every field of every line of the first file with
the corresponding field of the second file. 
What <em>corresponding</em> here exactly means
depends on the options passed to the program on
the command line. With no options, corresponding
means the field of the second file at the same position,
where position refers both to the line number and to the
location within the line. 
If the compared fields are both legal
numerical values, then <samp><span class="command">numdiff</span></samp> performs a numerical comparison
between them, else it performs a literal comparison,
i.e. the usual byte-by-byte comparison. 
In case of literal comparison, two fields are regarded
as equal if they are formed by the same sequence
of characters. 
In case of numerical comparison and without specific
command line options, two fields are regarded as equal
if their numerical difference is zero. 
Mind that, if you do not explicitly
specify a list of field delimiters by means of the option <samp><span class="option">-s</span></samp>
or <samp><span class="option">-D</span></samp>, <samp><span class="command">numdiff</span></samp> takes as field delimiters
the characters newline (&lsquo;<samp><span class="samp">\n</span></samp>&rsquo;, ASCII code 0x0A),
horizontal tabulation (&lsquo;<samp><span class="samp">\t</span></samp>&rsquo;, ASCII code 0x09),
and blank (&lsquo;<samp> </samp>&rsquo;, ASCII code 0x20).

   <p>For example, if the file <samp><span class="file">list1</span></samp> contains the data
<pre class="verbatim">accident        123     23Joshua          34.55           +3+4i	        water
dog       -3455.321     cat             2.345678e-9     .0005-6.23e2i

</pre>

<p class="noindent">and file <samp><span class="file">list2</span></samp> contains the data

<pre class="verbatim">Accident        123     23456          34.5500         +3.0001+4i
dog       -3455.320098  Cat     +2.345678e-9            -6.23e2i    $$$
A new line

</pre>

<p class="noindent">then the output of the command &lsquo;<samp><span class="samp">numdiff list1 list2</span></samp>&rsquo; will be:

<pre class="example">     ----------------
     ##1       #:1   &lt;== accident
     ##1       #:1   ==&gt; Accident
     @                                                     @@
     ##1       #:3   &lt;== 23Joshua
     ##1       #:3   ==&gt; 23456
     @                                                     @@
     ##1       #:5   &lt;== +3+4i
     ##1       #:5   ==&gt; +3.0001+4i
     @ Absolute error = 1.0000000000e-4, Relative error = 2.0000000000e-5
     ##1       #&gt;6   &lt;== water
     ##1             ==&gt;
     @ Line 1 in file "list2" is shorter than expected!
     ----------------
     ##2       #:2   &lt;== -3455.321
     ##2       #:2   ==&gt; -3455.320098
     @ Absolute error = 9.0200000000e-4, Relative error = 2.6104672633e-7
     ##2       #:3   &lt;== cat
     ##2       #:3   ==&gt; Cat
     @                                                     @@
     ##2       #:5   &lt;== .0005-6.23e2i
     ##2       #:5   ==&gt; -6.23e2i
     @ Absolute error = 5.0000000000e-4, Relative error = 8.0256821830e-7
     ##2             &lt;==
     ##2       #&gt;6   ==&gt; $$$
     @ Line 2 in file "list1" is shorter than expected!
     ----------------
     ##3             &lt;==
     ##3       #&gt;1   ==&gt; A new line
     @ Line 3 in file "list1" is shorter than expected!
     ----------------
               &lt;==
     ##4       ==&gt;
     
     
     +++  File "list1" differs from file "list2"
</pre>
   <p>At the same time <samp><span class="command">numdiff</span></samp> will print the following error message
on stderr:
<pre class="example">     ***  End of file "list1" reached while trying to read line 4.
          File "list2" has more lines than file "list1",
          line 4 is the last one read from file "list2"
</pre>
   <p>It is worth remarking that <samp><span class="command">numdiff</span></samp> can recognize complex numbers,
provided that they are written in the form a+bi or
a-bi with no extra characters between the values a, b and
the sign + or - (the symbol i,
used to represent the imaginary unit, can be changed by a suitable
command line option, see <a href="#Invoking-numdiff">Invoking numdiff</a>). 
If you do not know what complex numbers are, do not worry! 
In this case probably you will never manage files containing complex numbers
and so you can happily continue to ignore them. :)

   <p>We consider now an example which shows how Numdiff can
resynchronize the lines between two files in case of addition or deletion
of one or more lines. 
The versions of Numdiff prior to 5 did not work well if
one of the two files to compare contains
in the middle some lines more or less than the other one. 
For instance, if you have one file that is 1000 lines long that you
are comparing to a second file 1001 lines long, and except for that one
extra line, located, let us say, at line 500, the files are identical,
then <samp><span class="command">numdiff</span></samp> version 4.x does <strong>not</strong> show only the one line difference:
once the files are out of synchronization <samp><span class="command">numdiff</span></samp> 4.x reports
every line as different. 
Since version 5 it is possible in such cases to activate a filter which handles
additions and deletions of lines. 
There are several options ruling how the filter
actually works and I will give later a detailed explanation
on how to use them to obtain each time the wished result. 
The simplest way to activate the filter consists in
using the option <samp><span class="option">-z @</span></samp>. 
If <samp><span class="file">bill1</span></samp> and <samp><span class="file">bill2</span></samp> are given by
<pre class="verbatim"> Month          Expenses
-------------------------
 Jan09          $  233.56
 Feb09          $  850.77
 Mar09          $   12.55
 Apr09          $  524.00
 May09          $   78.25
 Jun09          $  230.00
 Jul09          $  443.10
 Aug09          $   67.65
 Sep09          $   10.00
 Oct09          $  201.45
 Nov09          $  110.00
 Dec09          $  200.27
-------------------------
Total           $ 2961.60
</pre>

<p class="noindent">and

<pre class="verbatim"> Month          Expenses
 Jan09          $  234.00
 Mar09          $   13.00
 May09          $   78.25
 Jul09          $  443.10
 Sep09          $   10.00
 Nov09          $  110.00
 Jan10          $  200.00
-------------------------

Total           $ 1088.35   
</pre>

<p class="noindent">respectively, then the differences between the two files are:
     <ul>
<li>the insertion of the separator <tt>-------------------------</tt>
in <samp><span class="file">bill1</span></samp> before the list of the months,
<li>the deletion in <samp><span class="file">bill2</span></samp> of the lines
related to the expenses for the months February,
April, June, August, October, December,
<li>small changes in <samp><span class="file">bill2</span></samp> to the expenses
of the months January 2009 and March,
<li>the presence in <samp><span class="file">bill2</span></samp> of an entry for January 2010
just before the separator <tt>-------------------------</tt>,
<li>the addition of an empty line to <samp><span class="file">bill2</span></samp> after the separator
<tt>-------------------------</tt>,
<li>and the different values for the total sum of the expenses. 
</ul>

   <p>The output of the command &lsquo;<samp><span class="samp">numdiff -z @ -V bill1 bill2</span></samp>&rsquo;
(I have added here the option <samp><span class="option">-V</span></samp> to let Numdiff show
 which couples of lines it is comparing each time)
is exactly then what you expect:
<a name="command"></a>
<pre class="example">     
     ----------------
     ##2       &lt;== -------------------------
               ==&gt;
     
     ----------------
     ##3       &lt;==  Jan09          $  233.56
     ##2       ==&gt;  Jan09          $  234.00
     
     ##3       #:3   &lt;== 233.56
     ##2       #:3   ==&gt; 234.00
     @ Absolute error = 4.4000000000e-1, Relative error = 1.8838842268e-3
     ----------------
     ##4       &lt;==  Feb09          $  850.77
               ==&gt;
     
     ----------------
     ##5       &lt;==  Mar09          $   12.55
     ##3       ==&gt;  Mar09          $   13.00
     
     ##5       #:3   &lt;== 12.55
     ##3       #:3   ==&gt; 13.00
     @ Absolute error = 4.5000000000e-1, Relative error = 3.5856573705e-2
     ----------------
     ##6       &lt;==  Apr09          $  524.00
               ==&gt;
     
     ----------------
     ##8       &lt;==  Jun09          $  230.00
               ==&gt;
     
     ----------------
     ##10      &lt;==  Aug09          $   67.65
               ==&gt;
     
     ----------------
     ##12      &lt;==  Oct09          $  201.45
               ==&gt;
     
     ----------------
     ##14      &lt;==  Dec09          $  200.27
     ##8       ==&gt;  Jan10          $  200.00
     
     ##14      #:1   &lt;== Dec09
     ##8       #:1   ==&gt; Jan10
     @                                                     @@
     ##14      #:3   &lt;== 200.27
     ##8       #:3   ==&gt; 200.00
     @ Absolute error = 2.7000000000e-1, Relative error = 1.3500000000e-3
     ----------------
               &lt;==
     ##10      ==&gt;
     
     ----------------
     ##16      &lt;== Total           $ 2961.60
     ##11      ==&gt; Total           $ 1088.35
     
     ##16      #:3   &lt;== 2961.60
     ##11      #:3   ==&gt; 1088.35
     @ Absolute error = 1.8732500000e+3, Relative error = 1.7211834428e+0
     
     +++  File "bill1" differs from file "bill2"
     
</pre>
   <p>Numdiff has reported correctly the following differences:
     <ul>
<li>the second line of file <samp><span class="file">bill1</span></samp>, i.e. 
the one containing the separator, has no
correspondance, or, if you prefer, has been deleted
from file <samp><span class="file">bill2</span></samp>. 
<li>The lines related to the months January
and March 2009 have been slightly modified in
<samp><span class="file">bill2</span></samp>, namely the values of the expenses
are slightly different. Notice that the line
with the expenses for January 2009 is the third one
in file <samp><span class="file">bill1</span></samp> and the second one in file
<samp><span class="file">bill2</span></samp>. This information
is printed by Numdiff in the form
     <pre class="example">          ##3       &lt;==  Jan09          $  233.56
          ##2       ==&gt;  Jan09          $  234.00
</pre>
     <p>Analogously
     <pre class="example">          ##5       &lt;==  Mar09          $   12.55
          ##3       ==&gt;  Mar09          $   13.00
</pre>
     <p>says that the line for March is
the fifth one in <samp><span class="file">bill1</span></samp> and the third
one in <samp><span class="file">bill2</span></samp>. 
<li>The line related to
the total amount of the expenses
appears also differently in the two files,
since the amount of the expenses is different. 
Notice that this line is the 16th one
in file <samp><span class="file">bill1</span></samp> and the 11th one in file
<samp><span class="file">bill2</span></samp>. 
<li>The lines related to the months February,
April, June, August and October, i.e. the lines
no. 4, 6, 8, 10 and 12 of <samp><span class="file">bill1</span></samp>, are not present
in <samp><span class="file">bill2</span></samp>. 
<li>The line of <samp><span class="file">bill1</span></samp> with the expenses for December 2009
is replaced in <samp><span class="file">bill2</span></samp> by the line containing
the value of the expenses for January 2010. 
<li>The tenth line of <samp><span class="file">bill2</span></samp>, i.e. the empty line
after the separator, is not present in <samp><span class="file">bill1</span></samp>. 
With respect to <samp><span class="file">bill1</span></samp> this line represents then an addition. 
</ul>

   <p>If you compare <samp><span class="file">bill1</span></samp> and <samp><span class="file">bill2</span></samp>
without using the option <samp><span class="option">-z @</span></samp>, the result is completely
misleading. This is the output of &lsquo;<samp><span class="samp">numdiff -V bill1 bill2</span></samp>&rsquo;:
<pre class="example">     
     ----------------
     ##2       &lt;== -------------------------
     ##2       ==&gt;  Jan09          $  234.00
     
     ##2       #:1   &lt;== -------------------------
     ##2       #:1   ==&gt; Jan09
     @                                                     @@
     ##2             &lt;==
     ##2       #&gt;2   ==&gt; $  234.00
     @ Line 2 in file "bill1" is shorter than expected!
     ----------------
     ##3       &lt;==  Jan09          $  233.56
     ##3       ==&gt;  Mar09          $   13.00
     
     ##3       #:1   &lt;== Jan09
     ##3       #:1   ==&gt; Mar09
     @                                                     @@
     ##3       #:3   &lt;== 233.56
     ##3       #:3   ==&gt; 13.00
     @ Absolute error = 2.2056000000e+2, Relative error = 1.6966153846e+1
     ----------------
     ##4       &lt;==  Feb09          $  850.77
     ##4       ==&gt;  May09          $   78.25
     
     ##4       #:1   &lt;== Feb09
     ##4       #:1   ==&gt; May09
     @                                                     @@
     ##4       #:3   &lt;== 850.77
     ##4       #:3   ==&gt; 78.25
     @ Absolute error = 7.7252000000e+2, Relative error = 9.8724600639e+0
     ----------------
     ##5       &lt;==  Mar09          $   12.55
     ##5       ==&gt;  Jul09          $  443.10
     
     ##5       #:1   &lt;== Mar09
     ##5       #:1   ==&gt; Jul09
     @                                                     @@
     ##5       #:3   &lt;== 12.55
     ##5       #:3   ==&gt; 443.10
     @ Absolute error = 4.3055000000e+2, Relative error = 3.4306772908e+1
     ----------------
     ##6       &lt;==  Apr09          $  524.00
     ##6       ==&gt;  Sep09          $   10.00
     
     ##6       #:1   &lt;== Apr09
     ##6       #:1   ==&gt; Sep09
     @                                                     @@
     ##6       #:3   &lt;== 524.00
     ##6       #:3   ==&gt; 10.00
     @ Absolute error = 5.1400000000e+2, Relative error = 5.1400000000e+1
     ----------------
     ##7       &lt;==  May09          $   78.25
     ##7       ==&gt;  Nov09          $  110.00
     
     ##7       #:1   &lt;== May09
     ##7       #:1   ==&gt; Nov09
     @                                                     @@
     ##7       #:3   &lt;== 78.25
     ##7       #:3   ==&gt; 110.00
     @ Absolute error = 3.1750000000e+1, Relative error = 4.0575079872e-1
     ----------------
     ##8       &lt;==  Jun09          $  230.00
     ##8       ==&gt;  Jan10          $  200.00
     
     ##8       #:1   &lt;== Jun09
     ##8       #:1   ==&gt; Jan10
     @                                                     @@
     ##8       #:3   &lt;== 230.00
     ##8       #:3   ==&gt; 200.00
     @ Absolute error = 3.0000000000e+1, Relative error = 1.5000000000e-1
     ----------------
     ##9       &lt;==  Jul09          $  443.10
     ##9       ==&gt; -------------------------
     
     ##9       #:1   &lt;== Jul09
     ##9       #:1   ==&gt; -------------------------
     @                                                     @@
     ##9       #&gt;2   &lt;== $  443.10
     ##9             ==&gt;
     @ Line 9 in file "bill2" is shorter than expected!
     ----------------
     ##10      &lt;==  Aug09          $   67.65
     ##10      ==&gt;
     
     ##10      #&gt;1   &lt;== Aug09          $   67.65
     ##10            ==&gt;
     @ Line 10 in file "bill2" is shorter than expected!
     ----------------
     ##11      &lt;==  Sep09          $   10.00
     ##11      ==&gt; Total           $ 1088.35
     
     ##11      #:1   &lt;== Sep09
     ##11      #:1   ==&gt; Total
     @                                                     @@
     ##11      #:3   &lt;== 10.00
     ##11      #:3   ==&gt; 1088.35
     @ Absolute error = 1.0783500000e+3, Relative error = 1.0783500000e+2
     ----------------
     ##12      &lt;==  Oct09          $  201.45
               ==&gt;
     
     
     ***  End of file "bill2" reached while trying to read line 12.
          File "bill1" has more lines than file "bill2",
          line 12 is the last one read from file "bill1"
     
     
     +++  File "bill1" differs from file "bill2"
</pre>
   <p>Numdiff compares now the first, second, third line of <samp><span class="file">bill1</span></samp>
with the first, second, third line of <samp><span class="file">bill2</span></samp> and so on. 
But probably this is not what you want in such a case: what
is reasonable here is to compare entries related to the same
month and not lines having the same location, i.e. the
same line number.

   <p>Numdiff offers also an option to run just the filter
and see how it resynchronizes the two given files
without doing any comparison between corresponding lines. 
The output of &lsquo;<samp><span class="samp">numdiff -z @ -f bill1 bill2</span></samp>&rsquo; is
<pre class="example">      Month          Expenses          Month          Expenses
     -------------------------     &lt;
      Jan09          $  233.56         Jan09          $  234.00
      Feb09          $  850.77     &lt;
      Mar09          $   12.55         Mar09          $   13.00
      Apr09          $  524.00     &lt;
      May09          $   78.25         May09          $   78.25
      Jun09          $  230.00     &lt;
      Jul09          $  443.10         Jul09          $  443.10
      Aug09          $   67.65     &lt;
      Sep09          $   10.00         Sep09          $   10.00
      Oct09          $  201.45     &lt;
      Nov09          $  110.00         Nov09          $  110.00
      Dec09          $  200.27     |   Jan10          $  200.00
     -------------------------        -------------------------
                                   &gt;
     Total           $ 2961.60        Total           $ 1088.35
     
     
     +++  File "bill1" differs from file "bill2"
</pre>
   <p class="noindent">and shows that the filter is doing its job in the right way,
associating the lines according to the month
and not to the line number. 
Running just the filter is extremely useful in all
situations when you are not sure if the filter is working as
you wish. 
You have indeed to instruct the filter in the right way to let
it work correctly, and this requires the use of different
options depending on the structure of the files to compare. 
Since to guess the right options can be sometime
tricky, running just the filter and see the result is
the best way to be certain that you are setting up
everything correctly. 
Later, see <a href="#Filtering">Filtering</a>, I will explain in detail
     <ul>
<li>what the filter
does behind the scenes to understand
if and how it has to resynchronize the files to compare,
<li>and how the related options affect the action
of the filter. 
</ul>

   <p>By the way, it is even possible to use <samp><span class="option">-f</span></samp>
without any other additional option for the filter, like
in &lsquo;<samp><span class="samp">numdiff -f bill1 bill2</span></samp>&rsquo;, but the result is more or less
the same you would obtain by performing a byte-by-byte comparison
with removal of the field delimiters.

   <p>The option <samp><span class="option">-f</span></samp> can be followed by an argument in the form
of an integer number whose meaning will be explained
later, see <a href="#Use-of-the-option-_002df">Use of the option -f</a>.

   <p>Even if the output of <samp><span class="command">numdiff</span></samp> is self-explanatory, in the
next section I will explain in details all you have to know about it.

<ul class="menu">
<li><a accesskey="1" href="#Output-format">Output format</a>:          How numdiff prints its reports on stdout
<li><a accesskey="2" href="#Overview-mode">Overview mode</a>:          An alternative way to print listings of differences
<li><a accesskey="3" href="#Filter-output">Filter output</a>:          How the built-in filter prints its report
</ul>

<div class="node">
<a name="Output-format"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Overview-mode">Overview mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">3.1 Output format</h3>

<p><a name="index-Output-format-_0028numdiff_0029-11"></a><a name="index-Format-of-the-reports-12"></a>
Let us go back to our first example. 
If the files <samp><span class="file">list1</span></samp> and <samp><span class="file">list2</span></samp> contain the data
<pre class="verbatim">accident        123     23Joshua          34.55           +3+4i	        water
dog       -3455.321     cat             2.345678e-9     .0005-6.23e2i

</pre>

<p class="noindent">and

<pre class="verbatim">Accident        123     23456          34.5500         +3.0001+4i
dog       -3455.320098  Cat     +2.345678e-9            -6.23e2i    $$$
A new line

</pre>

<p class="noindent">respectively, then the output of the command &lsquo;<samp><span class="samp">numdiff list1 list2</span></samp>&rsquo;
will be:

<pre class="example">     ----------------
     ##1       #:1   &lt;== accident
     ##1       #:1   ==&gt; Accident
     @                                                     @@
     ##1       #:3   &lt;== 23Joshua
     ##1       #:3   ==&gt; 23456
     @                                                     @@
     ##1       #:5   &lt;== +3+4i
     ##1       #:5   ==&gt; +3.0001+4i
     @ Absolute error = 1.0000000000e-4, Relative error = 2.0000000000e-5
     ##1       #&gt;6   &lt;== water
     ##1             ==&gt;
     @ Line 1 in file "list2" is shorter than expected!
     ----------------
     ##2       #:2   &lt;== -3455.321
     ##2       #:2   ==&gt; -3455.320098
     @ Absolute error = 9.0200000000e-4, Relative error = 2.6104672633e-7
     ##2       #:3   &lt;== cat
     ##2       #:3   ==&gt; Cat
     @                                                     @@
     ##2       #:5   &lt;== .0005-6.23e2i
     ##2       #:5   ==&gt; -6.23e2i
     @ Absolute error = 5.0000000000e-4, Relative error = 8.0256821830e-7
     ##2             &lt;==
     ##2       #&gt;6   ==&gt; $$$
     @ Line 2 in file "list1" is shorter than expected!
     ----------------
     ##3             &lt;==
     ##3       #&gt;1   ==&gt; A new line
     @ Line 3 in file "list1" is shorter than expected!
     ----------------
               &lt;==
     ##4       ==&gt;
     
     
     +++  File "list1" differs from file "list2"
</pre>
   <p><samp><span class="command">numdiff</span></samp> prints a report on the standard output
for every field of the first file which
differs from the corresponding field of the second file.

   <p>First this report indicates the locations
of the fields, namely the numbers
of the lines where the fields appear and
their positions within the line. The position in the line
is &ldquo;1&rdquo; for the first field of a line, &ldquo;2&rdquo;
for the second field, &ldquo;3&rdquo;
for the third one and so on: fields
are numerated starting from the left hand of the line
and proceeding towards the right hand. 
For each report the line number is introduced  by the symbol &ldquo;##&rdquo;,
while the field number by &ldquo;#:&rdquo;. 
Then <samp><span class="command">numdiff</span></samp> shows in what the difference consists. 
For instance,
<pre class="example">     ##1       #:1   &lt;== accident
     ##1       #:1   ==&gt; Accident
     @                                                     @@
</pre>
   <p class="noindent">means that the first field of the first line is
&ldquo;accident&rdquo; in the first file, while in the
second file it appears as &ldquo;Accident&rdquo;. 
This difference could be then canceled
by removing &ldquo;accident&rdquo; from the first file
and inserting &ldquo;Accident&rdquo; in place of it. 
The arrows &ldquo;&lt;==&rdquo; and &ldquo;==&gt;&rdquo; try to
visualize this idea. 
Analogously,
<pre class="example">     ##2       #:2   &lt;== -3455.321
     ##2       #:2   ==&gt; -3455.320098
     @ Absolute error = 9.0200000000e-4, Relative error = 2.6104672633e-7
</pre>
   <p class="noindent">means that the second field of the second line
is &ldquo;-3455.321&rdquo; in the first file and
&ldquo;-3455.320098&rdquo; in the second one. 
Since the contents of the field are numerical
in both files, <samp><span class="command">numdiff</span></samp> also prints
the absolute and relative errors.

   <p>The absolute error (or absolute difference) is given by the absolute
value of the difference between the values
appearing in the two files.

   <p>The relative error (or relative difference) is actually defined
in a more complicated way. 
If <em>n1</em> is the value appearing in the first
file and <em>n2</em> is the value in the second file,
then the absolute error is given by the formula <em>A=|n1-n2|</em>,
while the relative error <em>R</em> is given by:

     <ul>
<li><em>R = 0</em> if <em>n1</em> and <em>n2</em> are equal,
<li><em>Inf</em> (infinity) if <em>n2</em> differs from <em>n1</em> and
at least one of them is zero,
<li><em>R = A/ min(|n1|, |n2|)</em> if <em>n1</em> and <em>n2</em> are
both non zero and <em>n2</em> differs from <em>n1</em>. <em>min(|n1|, |n2|)</em>
denotes the minimum between the absolute value of <em>n1</em>
and the absolute value of <em>n2</em>. 
</ul>

<p class="noindent">With these definitions of absolute
and relative error it turns out that <em>A(n2, n1) = A(n1, n2)</em> and
<em>R(n2, n1) = R(n1, n2)</em>. In other words, the absolute/relative error
does not change if you only change the order of the compared values. 
Since version 5 it is actually possible to let Numdiff
compute the relative error always with respect to the value
from the first file or always with respect to the value
from the second file, instead of using the preceding formula. 
This can be done through the option <samp><span class="option">-F</span></samp>,
see <a href="#Alternative-formulas-for-the-computation-of-the-relative-difference">Alternative formulas for the computation of the relative difference</a>.

   <p>If at least one of the compared fields is not numerical, then the output line
reporting absolute and relative errors is replaced by
the separator:
<pre class="verbatim">@                                                     @@
</pre>

   <p>It can happen that a line in one of the two
files to compare contains
more fields than the corresponding line of
the other file. 
When this is the case, <samp><span class="command">numdiff</span></samp> reports this difference
by telling that a certain line (identified by its
line number) appears to be shorter than expected,
just as in
<pre class="example">     ##1       #&gt;6   &lt;== water
     ##1             ==&gt;
     @ Line 1 in file "list2" is shorter than expected!
</pre>
   <p>or in
<pre class="example">     ##3             &lt;==
     ##3       #&gt;1   ==&gt; A new line
     @ Line 3 in file "list1" is shorter than expected!
</pre>
   <p>In addition, <samp><span class="command">numdiff</span></samp> shows
the <i>tail</i> of the longer line, using the notation &ldquo;#&gt;n&rdquo;
to indicate the number n of the first field of the longer line
for which there is no corresponding field in the shorter line. 
For example,
<pre class="example">     ##1       #&gt;6   &lt;== water
     ##1             ==&gt;
     @ Line 1 in file "list2" is shorter than expected!
</pre>
   <p class="noindent">means that none of the fields of the first line starting from the sixth one
has a corresponding field in the second file (<samp><span class="file">list2</span></samp>). 
In this context, the symbol <tt>&lt;&lt;*>></tt> (when it appears) is used to denote
the End-Of-File, i.e. a line or the tail of a line which
is located at the end of the corresponding file and
does not have a terminating <em>newline</em> character.

   <p>It can also happen that one of the two
files to compare has less lines than the other one. 
In this case, if no special option is passed to the program,
<samp><span class="command">numdiff</span></samp> prints the number of the first
line which appears in only one of the two files and
a message on the standard error telling in which of the two files
the end has been prematurely reached:
<pre class="example">     ***  End of file "list1" reached while trying to read line 4.
          File "list2" has more lines than file "list1",
          line 4 is the last one read from file "list2"
</pre>
   <p>Unless the option <samp><span class="option">-q</span></samp> is used (see <a href="#Invoking-numdiff">Invoking numdiff</a>),
<samp><span class="command">numdiff</span></samp> prints on standard output
a message reporting the final status of the comparison. 
This message says either the two files are equal
or they are different, just as in the example we are
considering:
<pre class="example">     +++  File "list1" differs from file "list2"
</pre>
   <div class="node">
<a name="Overview-mode"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Filter-output">Filter output</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Output-format">Output format</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">3.2 Overview mode</h3>

<p><a name="index-Overview-mode-of-numdiff-13"></a><a name="index-Side_002dby_002dside-report-_0028numdiff_0029-14"></a>
Since version 5.6 an alternative way to display the differences
between two files is available, which can be activated
through the option <samp><span class="option">-O</span></samp>. 
If this option is present on the command line, <samp><span class="command">numdiff</span></samp>
prints a side-by-side report instead of the usual one.

   <p>For example, if <samp><span class="file">sheet1</span></samp> contains the text
<pre class="verbatim">A    1    1
B    2    4
C    3    9
D    4   16
E    5   25
F    6   36
G    7   49
H    8   64
I    9   81
J   10  100
</pre>

<p class="noindent">and <samp><span class="file">sheet2</span></samp> the following lines

<pre class="verbatim">A    1      1
B    2      4
C    3.3    9.03
D    4     16
E    5.5   25.05
F    6.6   36
G    7.7   49.49
H    8     64
I    9.9   81.09
</pre>

<p class="noindent">then &lsquo;<samp><span class="samp">numdiff -O sheet1 sheet2</span></samp>&rsquo; prints this report
<pre class="example">     A    1    1                            A    1      1
     B    2    4                            B    2      4
     C    3    9                         :!:C    3.3    9.03
     D    4   16                            D    4     16
     E    5   25                         :!:E    5.5   25.05
     F    6   36                         :!:F    6.6   36
     G    7   49                         :!:G    7.7   49.49
     H    8   64                            H    8     64
     I    9   81                         :!:I    9.9   81.09
     J   10  100                         :&lt;:
     
     ***  End of file "sheet2" reached while trying to read line 10.
          File "sheet1" has more lines than file "sheet2",
          line 10 is the last one read from file "sheet1"
     
     
     +++  File "sheet1" differs from file "sheet2"
</pre>
   <p>On the left side you can see the lines coming from the file
specified as first on the command line, i.e. <samp><span class="file">sheet1</span></samp>,
on the right side the lines from the second file of the command line,
in this case <samp><span class="file">sheet2</span></samp>. In the middle there is a <i>gutter</i>
which contains one of these markers:
     <dl>
<dt>&lsquo;<samp><span class="samp">white spaces</span></samp>&rsquo;<dd>The corresponding lines are in common.  That is, either the lines
are identical, or the difference is ignored because of one of the
options <samp><span class="option">-s</span></samp>, <samp><span class="option">-D</span></samp>, <samp><span class="option">-I</span></samp>, <samp><span class="option">-X</span></samp>, <samp><span class="option">-a</span></samp>,
<samp><span class="option">-r</span></samp>, <samp><span class="option">-P</span></samp> and <samp><span class="option">-N</span></samp>.

     <br><dt>&lsquo;<samp><span class="samp">:!:</span></samp>&rsquo;<dd>The corresponding lines have at least one field which differs.

     <br><dt>&lsquo;<samp><span class="samp">:&lt;:</span></samp>&rsquo;<dd>The files differ and only the first file contains the line.

     <br><dt>&lsquo;<samp><span class="samp">:&gt;:</span></samp>&rsquo;<dd>The files differ and only the second file contains the line. 
</dl>

   <p>In the case of <samp><span class="file">sheet1</span></samp> and <samp><span class="file">sheet2</span></samp> a message
is printed after the report saying that the end of the second file
has been prematurely reached. The two files do not have indeed
the same number of lines and the filter has not been activated.

   <p>The option <samp><span class="option">-O</span></samp> can take an optional argument, which
allows to set the width of the output and eventually to suppress
common lines, see <a href="#Invoking-numdiff">Invoking numdiff</a>. 
The default value for the width of the side-by-side report
is 130. No wonder then that the command &lsquo;<samp><span class="samp">numdiff -O40 sheet1 sheet2</span></samp>&rsquo;
displays a report with shorter lines:
<pre class="example">     A    1    1           A    1      1
     B    2    4           B    2      4
     C    3    9       :!: C    3.3    9.03
     D    4   16           D    4     16
     E    5   25       :!: E    5.5   25.05
     F    6   36       :!: F    6.6   36
     G    7   49       :!: G    7.7   49.49
     H    8   64           H    8     64
     I    9   81       :!: I    9.9   81.09
     J   10  100       :&lt;:
     
     ***  End of file "sheet2" reached while trying to read line 10.
          File "sheet1" has more lines than file "sheet2",
          line 10 is the last one read from file "sheet1"
     
     
     +++  File "sheet1" differs from file "sheet2"
</pre>
   <p>A negative argument makes that only the differences are listed in
the side-by-side report, as shown by
the output of the command &lsquo;<samp><span class="samp">numdiff -O40 sheet1 sheet2</span></samp>&rsquo;:
<pre class="example">     C    3    9       :!: C    3.3    9.03
     E    5   25       :!: E    5.5   25.05
     F    6   36       :!: F    6.6   36
     G    7   49       :!: G    7.7   49.49
     I    9   81       :!: I    9.9   81.09
     J   10  100       :&lt;:
     
     ***  End of file "sheet2" reached while trying to read line 10.
          File "sheet1" has more lines than file "sheet2",
          line 10 is the last one read from file "sheet1"
     
     
     +++  File "sheet1" differs from file "sheet2"
</pre>
   <p>If you set the width of the report to a too small value, it can happen
that some or even all lines from the compared files appear truncated as
in the output of &lsquo;<samp><span class="samp">numdiff -O24 sheet1 sheet2</span></samp>&rsquo;:
<pre class="example">     A    1         A    1
     B    2         B    2
     C    3    :!:  C    3.3
     D    4         D    4
     E    5    :!:  E    5.5
     F    6    :!:  F    6.6
     G    7    :!:  G    7.7
     H    8         H    8
     I    9    :!:  I    9.9
     J   10    :&lt;:
     
     ***  End of file "sheet2" reached while trying to read line 10.
          File "sheet1" has more lines than file "sheet2",
          line 10 is the last one read from file "sheet1"
     
     
     +++  File "sheet1" differs from file "sheet2"
</pre>
   <p>If you set the width of the report to a very small value, Numdiff
ignores it and uses the default value, i.e. 130.

   <p>Notice that the numeric argument must immediately follow the option <samp><span class="option">-O</span></samp>,
intermediate spaces are not allowed. This
is also the case for the optional argument of <samp><span class="option">-f</span></samp>, while
the options of Numdiff which require a mandatory argument permit
the presence of intermediate spaces between them and the argument.

   <p>The option <samp><span class="option">-O</span></samp> can be used together with any other option of
Numdiff except for <samp><span class="option">-f</span></samp>, <samp><span class="option">-q</span></samp>, <samp><span class="option">-U</span></samp>, <samp><span class="option">-E</span></samp>,
<samp><span class="option">-V</span></samp> and <samp><span class="option">-b</span></samp>. When <samp><span class="option">-O</span></samp> is in use, <samp><span class="option">-U</span></samp>,
<samp><span class="option">-E</span></samp>, <samp><span class="option">-V</span></samp> and <samp><span class="option">-b</span></samp> are ignored. If <samp><span class="option">-q</span></samp>
is present on the command line together with <samp><span class="option">-O</span></samp>, then
<samp><span class="option">-O</span></samp> is ignored. Finally, if both <samp><span class="option">-f</span></samp> and <samp><span class="option">-O</span></samp>
are present, then the behavior depends on the order: the option which
appears first on the command line is the one which matters.

   <p>Therefore, the command &lsquo;<samp><span class="samp">numdiff -O40 -f sheet1 sheet2</span></samp>&rsquo;
displays the same report as &lsquo;<samp><span class="samp">numdiff -O40 sheet1 sheet2</span></samp>&rsquo;,
while the output of &lsquo;<samp><span class="samp">numdiff -f -O40 sheet1 sheet2</span></samp>&rsquo; is
given by
<pre class="example">     A    1    1                            A    1      1
     B    2    4                            B    2      4
     C    3    9                          | C    3.3    9.03
     D    4   16                            D    4     16
     E    5   25                          | E    5.5   25.05
     F    6   36                          | F    6.6   36
     G    7   49                          | G    7.7   49.49
     H    8   64                            H    8     64
     I    9   81                          | I    9.9   81.09
     J   10  100                          &lt;
     
     
     +++  File "sheet1" differs from file "sheet2"
</pre>
   <p class="noindent">and coincides then with the one of &lsquo;<samp><span class="samp">numdiff -f sheet1 sheet2</span></samp>&rsquo;.

   <p>The option <samp><span class="option">-O</span></samp> can be used together with the filter to cope
with the addition/deletion of lines. 
If the file <samp><span class="file">sheet3</span></samp> contains the text
<pre class="verbatim">A    1      1
C    3.3    9.03
E    5.5   25.05
G    7.7   49.49
I    9.9   81.09
J    10   100.00
K    0      0.02
</pre>

<p class="noindent">then &lsquo;<samp><span class="samp">numdiff -O40 sheet1 sheet3</span></samp>&rsquo; prints a wrong report,
as in the example with files <samp><span class="file">bill1</span></samp> and <samp><span class="file">bill2</span></samp>:
<pre class="example">     A    1    1           A    1      1
     B    2    4     :!:   C    3.3    9.03
     C    3    9     :!:   E    5.5   25.05
     D    4   16     :!:   G    7.7   49.49
     E    5   25     :!:   I    9.9   81.09
     F    6   36     :!:   J    10   100.00
     G    7   49     :!:   K    0      0.02
     H    8   64     :&lt;:
     
     ***  End of file "sheet3" reached while trying to read line 8.
          File "sheet1" has more lines than file "sheet3",
          line 8 is the last one read from file "sheet1"
     
     
     +++  File "sheet1" differs from file "sheet3"
</pre>
   <p>On the other hand, the presence of <samp><span class="option">-z @</span></samp> makes Numdiff
always compare fields of corresponding lines, as shown by
the output of the command &lsquo;<samp><span class="samp">numdiff -O40 -z @ sheet1 sheet3</span></samp>&rsquo;:
<pre class="example">     A    1    1           A    1      1
     B    2    4     :&lt;:
     C    3    9     :!:   C    3.3    9.03
     D    4   16     :&lt;:
     E    5   25     :!:   E    5.5   25.05
     F    6   36     :&lt;:
     G    7   49     :!:   G    7.7   49.49
     H    8   64     :&lt;:
     I    9   81     :!:   I    9.9   81.09
     J   10  100           J    10   100.00
                     :&gt;:   K    0      0.02
     
     +++  File "sheet1" differs from file "sheet3"
</pre>
   <p>Side-by-side format is easy to read, but it has limitations. 
It generates much wider output than usual, and truncates
lines that are too long to fit.  Also, it relies on lining up output
quite heavily, so its output looks particularly bad if you
use varying width fonts, nonstandard tab stops, or nonprinting
characters.

<div class="node">
<a name="Filter-output"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Overview-mode">Overview mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">3.3 Output of the filter</h3>

<p><a name="index-Filter-output-_0028numdiff_0029-15"></a>
The output produced just by running the filter (option <samp><span class="option">-f</span></samp>) is
a side-by-side difference listing of the compared files
like the one displayed by GNU sdiff. 
The files are listed in two columns with a gutter between them.  The
gutter contains one of the following markers:
     <dl>
<dt>&lsquo;<samp><span class="samp">white space</span></samp>&rsquo;<dd>The corresponding lines are in common.  That is, either the lines
are identical, or the difference is ignored because of one of the
options <samp><span class="option">-s</span></samp>, <samp><span class="option">-D</span></samp>, <samp><span class="option">-I</span></samp>, <samp><span class="option">-X</span></samp>,
<samp><span class="option">-z</span></samp> and <samp><span class="option">-Z</span></samp>.

     <br><dt>&lsquo;<samp><span class="samp">|</span></samp>&rsquo;<dd>The corresponding lines differ, and they are either both complete
or both incomplete.

     <br><dt>&lsquo;<samp><span class="samp">&lt;</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">(</span></samp>&rsquo;<dd>The files differ and only the first file contains the line.

     <br><dt>&lsquo;<samp><span class="samp">&gt;</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">)</span></samp>&rsquo;<dd>The files differ and only the second file contains the line.

     <br><dt>&lsquo;<samp><span class="samp">\</span></samp>&rsquo;<dd>The corresponding lines differ, and only the first line is
incomplete.

     <br><dt>&lsquo;<samp><span class="samp">/</span></samp>&rsquo;<dd>The corresponding lines differ, and only the second line is
incomplete. 
</dl>

   <p>An input line is incomplete if its last character is not a newline. 
This can happen only if the line is the last one of its file. 
When an output line of the side by side difference listing
represents two differing lines, one might be incomplete
while the other is not.  In this case the gutter is marked
&lsquo;<samp><span class="samp">\</span></samp>&rsquo; if the line from the first file is incomplete, &lsquo;<samp><span class="samp">/</span></samp>&rsquo;
if the line from the second file is.

   <p>Like <samp><span class="option">-O</span></samp>, the option <samp><span class="option">-f</span></samp> can take an optional argument which
allows to set the width of the output and eventually to suppress
common lines, see <a href="#Invoking-numdiff">Invoking numdiff</a> and <a href="#Use-of-the-option-_002df">Use of the option -f</a>.

   <p>More generally, the user can always make <samp><span class="command">numdiff</span></samp>
avoid to print, partially or totally, the messages
that it would otherwise send to standard output. 
This can be achieved by some suitable command
line options, see <a href="#Invoking-numdiff">Invoking numdiff</a>.

<div class="node">
<a name="Installing"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-numdiff">Invoking numdiff</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Overview">Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Installing</h2>

<p><a name="index-Install-16"></a><a name="index-Compile-17"></a><a name="index-Build-18"></a>
To successfully compile, build and install Numdiff some
tools are required. The first one is an ANSI C compiler. 
This compiler should at least accept
the option <samp><span class="option">-o</span></samp> to write its output to a specified file,
the option <samp><span class="option">-D</span></samp> for macros predefinition,
the option <samp><span class="option">-l</span></samp> to search for a specified library,
and the options <samp><span class="option">-I</span></samp> and <samp><span class="option">-L</span></samp>
to add a given directory to the search path for include and
library files respectively.

   <p>In addition, you need a POSIX implementation of the <samp><span class="command">make</span></samp> utility
(I used both GNU make and smake by Joerg Schilling
to compile Numdiff) and a POSIX implementation
of the commands <samp><span class="command">rm</span></samp> and <samp><span class="command">find</span></samp>. 
At last, you need a proper installation of GNU Texinfo
(in order to install the info documentation) and
a shell sh-compatible.

   <p>Numdiff has been successfully compiled and tested on:

     <ul>
<li>Slackware&reg; GNU/Linux 10.2 with the version 3.3.6 of the GNU C Compiler (GCC),
<li>Slackware GNU/Linux 11 with GCC 3.4.6,
<li>Slackware GNU/Linux 12.2 with GCC 4.2.4,
<li>Slackware GNU/Linux 13 with GCC 4.3.3,
<li>Debian&reg; GNU/Linux 4.0 with GCC 4.1.2 20061115 (prerelease) (Debian 4.1.1-21),
<li>Debian GNU/Linux 6.0.3 with GCC 4.4.5 (Debian 4.4.5-8),
<li>Debian GNU/Linux 7.1 with GCC 4.7.2 (Debian 4.7.2-5),
<li>SunOS&reg; 5.8 with GCC 2.95.3, and
<li>SunOS 5.10 (i386) with the version 5.9 of the Sun C compiler. 
</ul>

   <p>Configuration, building and installation of Numdiff can be
performed through the standard three steps:
<pre class="example">             ./configure
             make
             make install
</pre>
   <p class="noindent">If you leave enabled the Natural Language Support and you
also want to install the localization files (at the moment
only the Italian localization is supplied), then, after
&lsquo;<samp><span class="samp">make</span></samp>&rsquo;, you will have to type and run
<pre class="example">             make install-nls
</pre>
   <p>By default, &lsquo;<samp><span class="samp">make install</span></samp>&rsquo; will install all the files in
<samp><span class="file">/usr/local/bin</span></samp>, <samp><span class="file">/usr/local/info</span></samp> etc.  You can specify
an installation prefix other than <samp><span class="file">/usr/local</span></samp> using the
option <samp><span class="option">--prefix</span></samp> in the <samp><span class="command">configure</span></samp> step,
for instance &lsquo;<samp><span class="samp">--prefix=$HOME</span></samp>&rsquo;:
<pre class="example">             ./configure --prefix=$HOME
</pre>
   <p class="noindent">For better control, you can use the options
<samp><span class="option">--bindir</span></samp>, <samp><span class="option">--infodir</span></samp>, and so on. 
Type &lsquo;<samp><span class="samp">./configure --help</span></samp>&rsquo; to obtain
the complete list of all the available options.

   <p>Anyway, the documentation files, including a full User Manual
available in several formats (HTML, PDF and plain ASCII text),
will always be put in <samp><var>DOCDIR</var><span class="file">/numdiff</span></samp>,
where <var>DOCDIR</var> is the path specified by the option <samp><span class="option">--docdir</span></samp>
or, if this option has not been given to
<samp><span class="command">configure</span></samp>, <samp><var>PREFIX</var><span class="file">/local/doc</span></samp>. 
Here <var>PREFIX</var> is the installation prefix specified by the
option <samp><span class="option">--prefix</span></samp> or the default <samp><span class="file">/usr/local</span></samp>.

   <p>Once Numdiff has been installed you can remove all the
files previously installed by a simple &lsquo;<samp><span class="samp">make uninstall</span></samp>&rsquo;. 
If you have also installed the localization files trough
&lsquo;<samp><span class="samp">make install-nls</span></samp>&rsquo;, then, in order to remove also
these ones, use &lsquo;<samp><span class="samp">make uninstall-nls</span></samp>&rsquo; in place
of &lsquo;<samp><span class="samp">make uninstall</span></samp>&rsquo;.

   <p>Between the options accepted by <samp><span class="command">configure</span></samp>
there are <samp><span class="option">--enable-debug</span></samp>, <samp><span class="option">--enable-optimization</span></samp>,
<samp><span class="option">--enable-nls</span></samp> and <samp><span class="option">--enable-gmp</span></samp>.

   <p>The option <samp><span class="option">--enable-debug</span></samp> turns on debugging when
compiling the source code. This is obtained by passing to the
compiler the <samp><span class="option">-g</span></samp> option, but you can change this default
debugging flag (which could not even be recognized by your compiler)
by setting the environment variable <samp><span class="env">DBGFLAGS</span></samp> before
calling <samp><span class="command">configure</span></samp>.

   <p>The option <samp><span class="option">--enable-optimization</span></samp> turns on basic optimization when
compiling the source code. This is obtained by passing to the
compiler the <samp><span class="option">-O</span></samp> option, but you can change this default
flag (which could not even be recognized by your compiler)
by setting the environment variable <samp><span class="env">OPTFLAGS</span></samp> before
calling <samp><span class="command">configure</span></samp>.

   <p>The option <samp><span class="option">--enable-nls</span></samp> turns on Natural Language Support. 
But you do not need to use it explicitly, since Natural
Language Support is enabled by default. 
However, you can disable it by using <samp><span class="option">--disable-nls</span></samp>. 
Disabling Natural Language Support is suggested whenever
you want to install Numdiff on a system where the GNU gettext library
is not present. In this case
the installation of Numdiff can be accomplished, for example, through
<pre class="example">             ./configure --disable-nls
             make
             make install
</pre>
   <p class="noindent">Since version 5.2.0 Numdiff uses to perform all computations
the GNU Multiple Precision Arithmetic Library
(also called GNU MP or GMP), if this library is available
at build-time. 
The old internal support for multiple precision arithmetic
is a fall-back in case GNU MP is absent. 
However, it is possible to use the internal support for
multiple precision arithmetic even when GNU MP is available:
it is sufficient to pass the option <samp><span class="option">--enable-gmp=no</span></samp>
or <samp><span class="option">--disable-gmp</span></samp> to the  configure  script
before building the program, like in
<pre class="example">             ./configure --disable-gmp
             make
             make install
</pre>
   <p class="noindent">Enabling the old internal support for multiple precision arithmetic
is deprecated, see <a href="#with-GNU-MP-is-better">with GNU MP is better</a>. 
The latest version of GNU MP is available at
<a href="ftp://ftp.gnu.org/gnu/gmp/">ftp://ftp.gnu.org/gnu/gmp/</a>. See the GNU MP web page
at <a href="http://gmplib.org/">http://gmplib.org/</a> for up-to-date information on GNU MP.

<div class="node">
<a name="Invoking-numdiff"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ndselect">ndselect</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installing">Installing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Invoking numdiff</h2>

<p><a name="index-Invoking-numdiff-19"></a><a name="index-Options_002c-command-line-_0028numdiff_0029-20"></a><a name="index-Command-line-options-for-numdiff-21"></a><a name="index-Synopsis-_0028numdiff_0029-22"></a><a name="index-Diagnostics-_0028numdiff_0029-23"></a><a name="index-Predefined-settings-of-numdiff-24"></a>
<strong>SYNOPSIS</strong>

<pre class="example">        numdiff -h|--help|-v|--version
</pre>
   <p>or
<pre class="example">        numdiff [-s <var>IFS</var>][-D <var>DELIMS</var>][-a <var>THRVAL</var>[:<var>RANGE</var>|:<var>RANGE1</var>:<var>RANGE2</var>]]
        [-r <var>THRVAL</var>[:<var>RANGE</var>|:<var>RANGE1</var>:<var>RANGE2</var>]][-2][-F <var>NUM</var>][-# <var>NUM</var>][-P][-N][-I]
        [-c <var>CURRNAME</var>][-d <var>C1C2</var>][-t <var>C1C2</var>][-g <var>N1N2</var>][-p <var>C1C2</var>][-n <var>C1C2</var>][-e <var>C1C2</var>]
        [-i <var>C1C2</var>][-X 1:<var>RANGE</var>][-X 2:<var>RANGE</var>][-E][-U][-b][-V][-O[<var>NUM</var>]][-q][-S]
        [-z 1:<var>RANGE</var>][-z 2:<var>RANGE</var>][-Z 1:<var>RANGE</var>][-Z 2:<var>RANGE</var>][-m][-H][-f[<var>NUM</var>]]
        [-T][-B][-l <var>PATH</var>][-o <var>PATH</var>] <var>FILE1</var> <var>FILE2</var>
</pre>
   <p class="noindent">where <var>FILE1</var> and <var>FILE2</var> are the names of the two files to compare
and <var>RANGE</var>, <var>RANGE1</var> and <var>RANGE2</var> stay for a positive integer
value or for a range of integer values, like &lsquo;<samp><span class="samp">1-</span></samp>&rsquo;, &lsquo;<samp><span class="samp">3-5</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-7</span></samp>&rsquo;.

   <p>In the first case <samp><span class="command">numdiff</span></samp> prints a short help
(not so short actually :)) or/and version number, Copyright, License notice,
NO-Warranty disclaimer and some information about the way it was built. 
In the second case <samp><span class="command">numdiff</span></samp> compares the files specified by
the two mandatory arguments which follow the list of the options. 
The complete paths of the files should be given,
a directory name is not accepted. 
In addition, the two arguments cannot refer to the same file
but one of them can be <tt>-</tt>, which refers to stdin.

<p class="noindent"><strong>OPTIONS</strong>

     <dl>
<dt><samp><span class="option">-s, --separators=</span><var>IFS</var></samp><dd>Specify the set of characters to use as delimiters
while splitting the input lines into fields
(The default set of characters is space, tab and newline). 
If <var>IFS</var> is prefixed with &lsquo;<samp><span class="samp">1:</span></samp>&rsquo; or &lsquo;<samp><span class="samp">2:</span></samp>&rsquo; then use the given delimiter set
only for the lines from the first or the second file respectively

     <br><dt><samp><span class="option">-D, --delimiters=</span><var>DELIMS</var></samp><dd>Specify the set of strings to use as delimiters
while splitting the input lines into fields
(The default set of characters is space, tab and newline). 
If <var>DELIMS</var> is prefixed with &lsquo;<samp><span class="samp">1:</span></samp>&rsquo; or &lsquo;<samp><span class="samp">2:</span></samp>&rsquo; then use the given delimiter set
only for the lines from the first or the second file respectively

     <br><dt><samp><span class="option">-a, --absolute-tolerance=</span><var>THRVAL</var><span class="option">[:</span><var>RANGE</var><span class="option">|:</span><var>RANGE1</var><span class="option">:</span><var>RANGE2</var><span class="option">]</span></samp><dd>Set to <var>THRVAL</var> the maximum absolute difference permitted
before that two numeric fields are regarded as different
(The default value is zero). 
If a <var>RANGE</var> is given, use the specified
threshold only when comparing fields whose indexes lie in <var>RANGE</var>. 
If both <var>RANGE1</var> and <var>RANGE2</var> are given and have the same length,
then use the specified threshold when comparing a field of <var>FILE1</var>
lying in <var>RANGE1</var> with the corresponding field of <var>FILE2</var> in <var>RANGE2</var>

     <br><dt><samp><span class="option">-r, --relative-tolerance=</span><var>THRVAL</var><span class="option">[:</span><var>RANGE</var><span class="option">|:</span><var>RANGE1</var><span class="option">:</span><var>RANGE2</var><span class="option">]</span></samp><dd>Set to <var>THRVAL</var> the maximum relative difference permitted
before that two numeric fields are regarded as different
(The default value is zero). 
If a <var>RANGE</var> is given, use the specified
threshold only when comparing fields whose indexes lie in <var>RANGE</var>. 
If both <var>RANGE1</var> and <var>RANGE2</var> are given and have the same length,
then use the specified threshold when comparing a field of <var>FILE1</var>
lying in <var>RANGE1</var> with the corresponding field of <var>FILE2</var> in <var>RANGE2</var>

     <br><dt><samp><span class="option">-2, --strict</span></samp><dd>Consider two numerical values as equal only if
both absolute and relative difference do not exceed
the corresponding tolerance threshold

     <br><dt><samp><span class="option">-F, --formula=</span><var>NUM</var></samp><dd>Use the formula indicated by <var>NUM</var> to compute the relative errors. 
If <var>NUM</var> is 0 use the classic formula. 
If <var>NUM</var> is 1 compute the relative errors by considering
the values in <var>FILE1</var> as sample values. 
If <var>NUM</var> is 2 compute the relative errors by considering
the values in <var>FILE2</var> as sample values.

     <br><dt><samp><span class="option">-#, --digits=</span><var>NUM</var></samp><dd>Set to <var>NUM</var> the number of digits in the significands
used in multiple precision arithmetic

     <br><dt><samp><span class="option">-P, --positive-differences</span></samp><dd>Ignore all differences due to numeric fields of the second file that
are less than the corresponding numeric fields in the first file

     <br><dt><samp><span class="option">-N, --negative-differences</span></samp><dd>Ignore all differences due to numeric fields of the second file that
are greater than the corresponding numeric fields in the first file

     <br><dt><samp><span class="option">-I, --ignore-case</span></samp><dd>Ignore changes in case while doing literal comparisons

     <br><dt><samp><span class="option">-c, --currency=</span><var>CURRNAME</var></samp><dd>Set to <var>CURRNAME</var> the currency name for the two files to compare. 
<var>CURRNAME</var> must be prefixed with &lsquo;<samp><span class="samp">1:</span></samp>&rsquo; or &lsquo;<samp><span class="samp">2:</span></samp>&rsquo; to specify the
currency name only for the first or the second file

     <br><dt><samp><span class="option">-d, --decimal-point=</span><var>C1C2</var></samp><dd>Specify the characters representing the decimal point
in the two files to compare

     <br><dt><samp><span class="option">-t, --thousands-separator=</span><var>C1C2</var></samp><dd>Specify the characters representing the thousands separator
in the two files to compare

     <br><dt><samp><span class="option">-g, --group-length=</span><var>N1N2</var></samp><dd>Specify the number of digits forming each group of thousands
in the two files to compare

     <br><dt><samp><span class="option">-p, --plus-prefix=</span><var>C1C2</var></samp><dd>Specify the (optional) prefixes for positive values
used in the two files to compare

     <br><dt><samp><span class="option">-n, --minus-prefix=</span><var>C1C2</var></samp><dd>Specify the prefixes for negative values
used in the two files to compare

     <br><dt><samp><span class="option">-e, --exponent-letter=</span><var>C1C2</var></samp><dd>Specify the exponent letters
used in the two files to compare

     <br><dt><samp><span class="option">-i, --imaginary-unit=</span><var>C1C2</var></samp><dd>Specify the characters representing the imaginary unit
in the two files to compare

     <br><dt><samp><span class="option">-X, --exclude=1:</span><var>RANGE</var></samp><dd>Select the fields of the first file that have to be ignored

     <br><dt><samp><span class="option">-X, --exclude=2:</span><var>RANGE</var></samp><dd>Select the fields of the second file that have to be ignored

     <br><dt><samp><span class="option">-E, --essential</span></samp><dd>While printing the differences between the two compared files
show only the numerical ones

     <br><dt><samp><span class="option">-U, --dummy</span></samp><dd>While printing the differences between the two compared files
neglect all the numerical ones (dummy mode)

     <br><dt><samp><span class="option">-b, --brief</span></samp><dd>Suppress all messages concerning the differences discovered
in the structures of the two files

     <br><dt><samp><span class="option">-V, --verbose</span></samp><dd>For every couple of lines which differ in at least one field print an header
to show how these lines appear in the two compared files

     <br><dt><samp><span class="option">-O, --overview[=</span><var>NUM</var><span class="option">]</span></samp><dd>Display a side by side difference listing of the two files
showing which lines are present only in one file, which
lines are present in both files but with one or more differing fields,
and which lines are identical. 
If <var>NUM</var> is zero or is not specified, output at most 130 columns per line. 
If <var>NUM</var> is a positive number, output at most <var>NUM</var> columns per line. 
If <var>NUM</var> is a negative number, do not output common lines
and display at most -<var>NUM</var> columns per line.

     <br><dt><samp><span class="option">-q, --quiet, --silent</span></samp><dd>Suppress all the standard output

     <br><dt><samp><span class="option">-S, --statistics</span></samp><dd>Add some statistics to the standard output

     <br><dt><samp><span class="option">-z, --blur-if-numerical=1:</span><var>RANGE</var></samp><dd>Select the fields of the first file that have to be
blurred during the synchronization procedure
only if they turn out to be numeric

     <br><dt><samp><span class="option">-z, --blur-if-numerical=2:</span><var>RANGE</var></samp><dd>Select the fields of the second file that have to be
blurred during the synchronization procedure
only if they turn out to be numeric

     <br><dt><samp><span class="option">-Z, --blur-unconditionally=1:</span><var>RANGE</var></samp><dd>Select the fields of the first file that have to be
unconditionally blurred during the synchronization procedure

     <br><dt><samp><span class="option">-Z, --blur-unconditionally=2:</span><var>RANGE</var></samp><dd>Select the fields of the second file that have to be
unconditionally blurred during the synchronization procedure

     <br><dt><samp><span class="option">-m, --minimal</span></samp><dd>During synchronization try hard to find a smaller set of changes

     <br><dt><samp><span class="option">-H, --speed-large-files</span></samp><dd>During synchronization assume large files and
many scattered small changes

     <br><dt><samp><span class="option">-f, --test-filter[=</span><var>NUM</var><span class="option">]</span></samp><dd>Run only the filter and then show the results of its
attempt to synchronize the two files. 
If <var>NUM</var> is zero or is not specified, output at most 130 columns per line. 
If <var>NUM</var> is a positive number, output at most
<var>NUM</var> columns per line. 
If <var>NUM</var> is a negative number, do not output common lines
and display at most -<var>NUM</var> columns per line.

     <br><dt><samp><span class="option">-T, --expand-tabs</span></samp><dd>Expand tabs to spaces in output while displaying the results of the
synchronization procedure (meaningful only together with option <samp><span class="option">-O</span></samp>
or <samp><span class="option">-f</span></samp>)

     <br><dt><samp><span class="option">-B, --binary</span></samp><dd>Treat both files as binary files (only meaningful under Doz/Windoz)

     <br><dt><samp><span class="option">-l, --warnings-to=</span><var>PATH</var></samp><dd>Redirect warning and error messages from stderr to the indicated file

     <br><dt><samp><span class="option">-o, --output=</span><var>PATH</var></samp><dd>Redirect output from stdout to the indicated file

     <br><dt><samp><span class="option">-h, --help</span></samp><dd>Show help message and predefined settings

     <br><dt><samp><span class="option">-v, --version</span></samp><dd>Show version number, Copyright, Distribution Terms and NO-Warranty
</dl>

<p class="noindent"><strong>DIAGNOSTICS</strong>

   <p>The exit status is 1 if the two given files differ, 0 if they are equal,
-1 (255) in case of error.

<p class="noindent"><strong>DEFAULT NUMERIC FORMAT (for both files to compare):</strong>
<a name="Default-Numeric-Format"></a>Currency name = ""
   <pre class="sp">

</pre>
Decimal point = `.'
   <pre class="sp">

</pre>
Thousands separator = `,'
   <pre class="sp">

</pre>
Number of digits in each thousands group = 3
   <pre class="sp">

</pre>
Leading positive sign = `+'
   <pre class="sp">

</pre>
Leading negative sign = `-'
   <pre class="sp">

</pre>
Prefix for decimal exponent = `e'
   <pre class="sp">

</pre>
Symbol used to denote the imaginary unit = `i'

<p class="noindent"><strong>SOME EXPLANATIONS</strong>

   <p>The options <samp><span class="option">-U</span></samp>, <samp><span class="option">-E</span></samp>, <samp><span class="option">-b</span></samp> and
<samp><span class="option">-q</span></samp> are used to
hide part of the standard output of the program according
to some rule.

   <p>The option <samp><span class="option">-U</span></samp> triggers the <i>dummy mode</i>. In this mode
<samp><span class="command">numdiff</span></samp> does not print the numerical differences. A numerical
difference occurs whenever the compared fields turn out to be both of numerical
type, but the field from the second file has a value
which differs from the one of the field from the first file. 
The <i>dummy mode</i> is so called since in this mode
<samp><span class="command">numdiff</span></samp> does not perform the job for which I created it.

   <p>The option <samp><span class="option">-E</span></samp> triggers the <i>essential mode</i>. In this mode
<samp><span class="command">numdiff</span></samp> only prints the numerical differences between the
files and, if there are some, the differences in the
structure. The latter ones occur either when one of
the files contains a line for which there is no
corresponding line in the other file, or
when, comparing two lines, it turns out that
one of them contains a field for which there exists no
corresponding field in the other line. 
If you are not running any filter or cutting out any
fields through the option <samp><span class="option">-X</span></samp>, then
the differences in the structure simply consist either
in a different number of lines in the
two files, or in a different number of fields on a line.

   <p>The option <samp><span class="option">-b</span></samp> triggers the <i>brief mode</i>. In this mode
<samp><span class="command">numdiff</span></samp> does not print the differences in
the structure of the two files (see above for an explanation
about what they are).

   <p>The option <samp><span class="option">-q</span></samp> triggers the <i>quiet mode</i>. 
In this mode <samp><span class="command">numdiff</span></samp> does not print anything on the
standard output. The <i>quiet mode</i> is useful if you only want
to know whether a couple of files are equal or not. 
This information can be obtained by looking at the exit status
of the program.

   <p>The option <samp><span class="option">-O</span></samp> activates the <i>overview mode</i>,
which makes <samp><span class="command">numdiff</span></samp> print a side-by-side report
in the form described in section <a href="#Overview-mode">Overview mode</a>. 
The optional numeric argument after <samp><span class="option">-O</span></samp> must immediately
follow, intermediate spaces are not allowed. 
The option <samp><span class="option">-O</span></samp> can be used together with any other option
of Numdiff except for <samp><span class="option">-f</span></samp>, <samp><span class="option">-q</span></samp>, <samp><span class="option">-U</span></samp>, <samp><span class="option">-E</span></samp>,
<samp><span class="option">-V</span></samp> and <samp><span class="option">-b</span></samp>. When <samp><span class="option">-O</span></samp> is in use, <samp><span class="option">-U</span></samp>, <samp><span class="option">-E</span></samp>,
<samp><span class="option">-V</span></samp> and <samp><span class="option">-b</span></samp> are ignored. 
If <samp><span class="option">-q</span></samp> is present on the command line together with <samp><span class="option">-O</span></samp>,
then <samp><span class="option">-O</span></samp> is ignored. Finally, if both <samp><span class="option">-f</span></samp> and <samp><span class="option">-O</span></samp> are
present, then the behavior depends on the order:
the option which appears first on the command line is the
one which matters.

   <p>The option <samp><span class="option">-V</span></samp> triggers the <i>verbose mode</i>. In this
mode <samp><span class="command">numdiff</span></samp> produces a richer report by printing an header
whenever the compared lines differ. The header shows
how and where these lines appear in the compared files. 
For instance, if the files <samp><span class="file">data1</span></samp> and <samp><span class="file">data2</span></samp> contain the data
<pre class="verbatim">12      33
22      44.5
0.008   1.002
221.12  -34.56  water
2101.21 boats
</pre>

<p class="noindent">and

<pre class="verbatim">12      33
22.3      44.5
0.008   1.202
221.12  -34.56
2101.21 boats   dogs
</pre>

<p class="noindent">respectively, then the command &lsquo;<samp><span class="samp">numdiff -V data1 data2</span></samp>&rsquo;
will print the following output:
<pre class="example">     ----------------
     ##2       &lt;== 22      44.5
     ##2       ==&gt; 22.3      44.5
     
     ##2       #:1   &lt;== 22
     ##2       #:1   ==&gt; 22.3
     @ Absolute error = 3.0000000000e-1, Relative error = 1.3636363636e-2
     ----------------
     ##3       &lt;== 0.008   1.002
     ##3       ==&gt; 0.008   1.202
     
     ##3       #:2   &lt;== 1.002
     ##3       #:2   ==&gt; 1.202
     @ Absolute error = 2.0000000000e-1, Relative error = 1.9960079840e-1
     ----------------
     ##4       &lt;== 221.12  -34.56  water
     ##4       ==&gt; 221.12  -34.56
     
     ##4       #&gt;3   &lt;== water
     ##4             ==&gt;
     @ Line 4 in file "data2" is shorter than expected!
     ----------------
     ##5       &lt;== 2101.21 boats
     ##5       ==&gt; 2101.21 boats   dogs
     
     ##5             &lt;==
     ##5       #&gt;3   ==&gt; dogs
     @ Line 5 in file "data1" is shorter than expected!
     
     +++  File "data1" differs from file "data2"
</pre>
   <p>You must care that the options <samp><span class="option">-b</span></samp> and <samp><span class="option">-V</span></samp>
will be overridden if <samp><span class="option">-q</span></samp> is also set.

   <p>The amount of additional information printed by <samp><span class="option">-V</span></samp> is
trivially influenced by the options that alter
the way <samp><span class="command">numdiff</span></samp> performs the comparisons between fields
(for instance <samp><span class="option">-a</span></samp>, <samp><span class="option">-r</span></samp>, <samp><span class="option">-2</span></samp>, <samp><span class="option">-N</span></samp>,
<samp><span class="option">-P</span></samp>, <samp><span class="option">-U</span></samp>, <samp><span class="option">-E</span></samp>, <samp><span class="option">-I</span></samp>, <samp><span class="option">-X</span></samp>).

   <p>In the headers printed by <samp><span class="command">numdiff</span></samp> when in &ldquo;verbose mode&rdquo;
can also appear the symbol <tt>&lt;&lt;*>></tt>. This symbol, if present,
is always located at the end of a line to mean that the line
is at the end of the corresponding file and
does not have a terminating <strong>newline</strong> character.

   <p>The option <samp><span class="option">-S</span></samp> adds to the standard output of <samp><span class="command">numdiff</span></samp>
a statistical report with the following information:
     <ul>
<li>the number of numeric comparisons the program has done (this quantity,
like the successive ones, is influenced by the options <samp><span class="option">-P</span></samp> and
<samp><span class="option">-N</span></samp>) and the number of those comparisons whose outcome
is a relevant numerical difference. 
<li>the largest absolute error in the set of relevant numerical differences
and the corresponding relative error,
<li>the largest relative error in the set of relevant numerical differences
together with the corresponding absolute error,
<li>the sum and the arithmetic mean of all absolute errors,
<li>the sum and the arithmetic mean of the relevant absolute
errors,
<li>the square root of the sum of the squares of all absolute errors,
<li>the square root of the sum of the squares of the relevant
absolute errors,
<li>the quadratic mean of all absolute errors, and
<li>the quadratic mean of the relevant absolute errors. 
</ul>
   By relevant numerical differences and relevant absolute errors
I mean those ones appearing in the output of <samp><span class="command">numdiff</span></samp> when the options
<samp><span class="option">-U</span></samp>, <samp><span class="option">-f</span></samp>, <samp><span class="option">-O</span></samp> and <samp><span class="option">-q</span></samp> are not used. 
The information printed by <samp><span class="option">-S</span></samp> is not
removed when this option is used together with <samp><span class="option">-q</span></samp>.

   <p>The options <samp><span class="option">-a</span></samp>, <samp><span class="option">-r</span></samp>, <samp><span class="option">-2</span></samp>,
<samp><span class="option">-P</span></samp> and <samp><span class="option">-N</span></samp> affect the way <samp><span class="command">numdiff</span></samp>
performs the comparisons between numerical values. 
Without any of these options, <samp><span class="command">numdiff</span></samp> considers two
numerical fields as equal when their difference is zero.

   <p>The option <samp><span class="option">-a</span></samp> can be used to order that
two numerical fields must be considered equal as long
as their absolute difference does not exceed a certain threshold,
which is specified by the argument that follows the <samp><span class="option">-a</span></samp> option. 
This argument can take several forms. The basic form consists of a
single numerical value, the extended form adds the
specification of one or two ranges of integer values.

   <p>Independently of the form of the argument, if the absolute
difference between two fields does not exceed the given threshold value,
the fields are considered equal;
otherwise, <samp><span class="command">numdiff</span></samp> prints the difference in its report,
unless some other option, for example <samp><span class="option">-P</span></samp> or <samp><span class="option">-N</span></samp>,
makes the difference unimportant. 
If nothing else follows the threshold value,
what has been just explained applies to all comparisons
between numerical fields. 
To see this in practice, if the file
<samp><span class="file">many_columns1</span></samp> contains the text
<pre class="verbatim">A	1	 1.2	  1	 0.1	  11.0         1.0e-1
B	2        2.4      4      0.4      24.0         1.0e-2
C	3        3.6      9      0.9      39.0         1.0e-3
D	4	 4.8     16      1.6     416.0         1.0e-4
</pre>

<p class="noindent">and the contents of the file <samp><span class="file">many_columns2</span></samp> are given by

<pre class="verbatim">A	1.1	1.08	 1.01	 0.1	 11.011        -1.0e-1
B	2.2     2.16     4.04    0.4     24.024        -1.0e-2
C	3.3     3.24     9.09    0.9     39.039        -1.0e-3
D	4.4	4.32    16.16    1.6    416.039        -1.0e-4
</pre>

<p class="noindent">then the output of the command &lsquo;<samp><span class="samp">numdiff -a 0.5 many_columns1 many_columns2</span></samp>&rsquo; is
<pre class="example">     
     +++  Files "many_columns1" and "many_columns2" are equal
</pre>
   <p class="noindent">The highest absolute difference between a field from
<samp><span class="file">many_columns1</span></samp> and the corresponding field from <samp><span class="file">many_columns2</span></samp>
is given indeed by  |4.32 - 4.8| = |-0.48| = 0.48, and then all
numeric differences between the two files remain below the
threshold value 0.5.

   <p>On the other hand, the command &lsquo;<samp><span class="samp">numdiff -a 0.35 many_columns1 many_columns2</span></samp>&rsquo;
prints the report
<pre class="example">     ----------------
     ##3       #:3   &lt;== 3.6
     ##3       #:3   ==&gt; 3.24
      Absolute error = 3.6000000000e-1, Relative error = 1.1111111111e-1
     ----------------
     ##4       #:2   &lt;== 4
     ##4       #:2   ==&gt; 4.4
      Absolute error = 4.0000000000e-1, Relative error = 1.0000000000e-1
     ##4       #:3   &lt;== 4.8
     ##4       #:3   ==&gt; 4.32
      Absolute error = 4.8000000000e-1, Relative error = 1.1111111111e-1
     
     +++  File "many_columns1" differs from file "many_columns2"
</pre>
   <p class="noindent">since the absolute differences |3.24-3.6| = |-0.36| = 0.36,
|4.4-4| = |0.4| = 0.4 and |4.32 - 4.8| = 0.48 exceed
the value 0.35, and the other differences are below this threshold.

   <p>If you want that the specified threshold value applies
only when comparing some particular fields, you
have to use the extended form for the argument of <samp><span class="option">-a</span></samp>. 
This means that after the threshold value one
or two ranges of integer numbers must follow, each
preceded by a colon (`:'). 
If you specify only one range of numbers after
the threshold value, <samp><span class="command">numdiff</span></samp> uses the
given threshold only when comparing fields whose positions lie
in the specified range. 
Remember that the positions of the fields on a line
are numbered starting from the left hand of the line
and proceeding towards the right hand. 
For example, &lsquo;<samp><span class="samp">-a 0.01:2-5</span></samp>&rsquo; sets the threshold value
to 0.01 only for the comparisons between numerical fields
which occupy on their lines a position between the second and the fifth one inclusive. 
For the other comparisons the threshold value is left unchanged and
is in particular equal to zero if it has not been
explicitly set. 
If the files <samp><span class="file">many_columns1</span></samp> and <samp><span class="file">many_columns2</span></samp> are the same as before,
then the command &lsquo;<samp><span class="samp">numdiff -a 0.5:3-6 many_columns1 many_columns2</span></samp>&rsquo;
displays the following report
<pre class="example">     ----------------
     ##1       #:2   &lt;== 1
     ##1       #:2   ==&gt; 1.1
      Absolute error = 1.0000000000e-1, Relative error = 1.0000000000e-1
     ##1       #:7   &lt;== 1.0e-1
     ##1       #:7   ==&gt; -1.0e-1
      Absolute error = 2.0000000000e-1, Relative error = 2.0000000000e+0
     ----------------
     ##2       #:2   &lt;== 2
     ##2       #:2   ==&gt; 2.2
      Absolute error = 2.0000000000e-1, Relative error = 1.0000000000e-1
     ##2       #:7   &lt;== 1.0e-2
     ##2       #:7   ==&gt; -1.0e-2
      Absolute error = 2.0000000000e-2, Relative error = 2.0000000000e+0
     ----------------
     ##3       #:2   &lt;== 3
     ##3       #:2   ==&gt; 3.3
      Absolute error = 3.0000000000e-1, Relative error = 1.0000000000e-1
     ##3       #:7   &lt;== 1.0e-3
     ##3       #:7   ==&gt; -1.0e-3
      Absolute error = 2.0000000000e-3, Relative error = 2.0000000000e+0
     ----------------
     ##4       #:2   &lt;== 4
     ##4       #:2   ==&gt; 4.4
      Absolute error = 4.0000000000e-1, Relative error = 1.0000000000e-1
     ##4       #:7   &lt;== 1.0e-4
     ##4       #:7   ==&gt; -1.0e-4
      Absolute error = 2.0000000000e-4, Relative error = 2.0000000000e+0
     
     +++  File "many_columns1" differs from file "many_columns2"
</pre>
   <p class="noindent">since the threshold value 0.5 applies now only when comparing
fields in third, fourth, fifth and sixth position, while for the other
comparisons the threshold value is the default one, i.e. zero. 
If you want to specify a non null threshold also for the fields
in second and seventh position, you can do it by using the option
<samp><span class="option">-a</span></samp> more times. The command
&lsquo;<samp><span class="samp">numdiff -a 0.5:3-6 -a 0.25:2 -a 4e-3:7 many_columns1 many_columns2</span></samp>&rsquo;
sets the threshold value to 0.25 for the comparisons between the
fields in second position, and to 4e-3 for the comparisons of the
fields in seventh position. No wonder then, that the command
prints exactly this report:
<pre class="example">     ----------------
     ##1       #:7   &lt;== 1.0e-1
     ##1       #:7   ==&gt; -1.0e-1
      Absolute error = 2.0000000000e-1, Relative error = 2.0000000000e+0
     ----------------
     ##2       #:7   &lt;== 1.0e-2
     ##2       #:7   ==&gt; -1.0e-2
      Absolute error = 2.0000000000e-2, Relative error = 2.0000000000e+0
     ----------------
     ##3       #:2   &lt;== 3
     ##3       #:2   ==&gt; 3.3
      Absolute error = 3.0000000000e-1, Relative error = 1.0000000000e-1
     ----------------
     ##4       #:2   &lt;== 4
     ##4       #:2   ==&gt; 4.4
      Absolute error = 4.0000000000e-1, Relative error = 1.0000000000e-1
     
     +++  File "many_columns1" differs from file "many_columns2"
</pre>
   <p class="noindent">Observe that <tt>:2</tt> and <tt>:7</tt> are abbreviations
of <tt>:2-2</tt> and <tt>:7-7</tt>, respectively. 
It is even possible to use range expressions like
&lsquo;<samp><var>m</var><span class="samp">-</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-</span><var>n</var></samp>&rsquo;. The first
expression corresponds to all fields starting from
the <var>m</var>th one (inclusive) till to the end of line,
the second selects all fields from the first one
till to the <var>n</var>th one, both inclusive.

   <p>If you specify two ranges of numbers after
the threshold value and they have the same length
(the length of a range is the difference between its maximum and its minimum),
<samp><span class="command">numdiff</span></samp> uses the given threshold when
comparing a field of the first file
lying in the first range with the corresponding field
of the second file from the second range. 
For example, &lsquo;<samp><span class="samp">-a 1e-4:3-5:4-6</span></samp>&rsquo; sets the threshold value
to 0.0001 only for the numerical comparisons of the third,
fourth, and fifth field of each line from the first file
with the fourth, fifth and sixth field respectively
of the corresponding line from the second file. 
For the other comparisons the threshold value is left unchanged
and is in particular equal to zero if it has not been
explicitly set. This way to restrict the application of
a threshold value is useful in conjunction with the
option <samp><span class="option">-X</span></samp>, which makes <samp><span class="command">numdiff</span></samp> ignore one
or more fields from one of the compared files.

   <p>The file <samp><span class="file">many_columns3</span></samp>:
<pre class="verbatim">A    I	1.1	1.08	 1.01	 0.1	 11.011        -1.0e-1
B   II	2.2     2.16     4.04    0.4     24.024        -1.0e-2
C  III	3.3     3.24     9.09    0.9     39.039        -1.0e-3
D   IV	4.4	4.32    16.16    1.6    416.039        -1.0e-4
</pre>

<p class="noindent">has one column more than the file <samp><span class="file">many_columns1</span></samp>, namely
the second one. When comparing <samp><span class="file">many_columns1</span></samp> with
<samp><span class="file">many_columns3</span></samp> it is natural then to ignore the second
column of the second file. This can be achieved by passing
the argument 2:2 to the option <samp><span class="option">-X</span></samp> (for a full
description of the use of this option,
see <a href="#Restriction-of-the-comparison-to-particular-fields">Restriction of the comparison to particular fields</a>). 
Ignoring the second field of each line of <samp><span class="file">many_columns3</span></samp>
implies that the fields in the third column of this file
are compared with the corresponding fields of the second
column of <samp><span class="file">many_columns1</span></samp>, the fields in the fourth column
of <samp><span class="file">many_columns3</span></samp> are compared with the ones in the third
column of <samp><span class="file">many_columns1</span></samp>, and so on. 
Therefore, if you want to set a threshold value only for the
comparisons between some particular fields you have to consider
that &lsquo;<samp><span class="samp">-X 2:2</span></samp>&rsquo; makes <samp><span class="command">numdiff</span></samp> compare the
first, second, third, fourth, fifth, sixth, and seventh field
of each line of <samp><span class="file">many_columns1</span></samp> with the first, third, fourth,
fifth, sixth, seventh, and eighth field respectively of
the corresponding line of  <samp><span class="file">many_columns3</span></samp>. 
Therefore, the command &lsquo;<samp><span class="samp">numdiff -X 2:2 -a 0.5:3-6 many_columns1 many_columns3</span></samp>&rsquo;
will use 0.5 as threshold value only when comparing
the third, fourth, and fifth field of a line from
<samp><span class="file">many_columns1</span></samp> with the fourth,
fifth, and sixth field respectively of the corresponding line
of <samp><span class="file">many_columns3</span></samp>. 
This explains why the report of &lsquo;<samp><span class="samp">numdiff -X 2:2 -a 0.5:3-6 many_columns1 many_columns3</span></samp>&rsquo;
<pre class="example">     ----------------
     ##1       #:2   &lt;== 1
     ##1       #:3   ==&gt; 1.1
      Absolute error = 1.0000000000e-1, Relative error = 1.0000000000e-1
     ##1       #:6   &lt;== 11.0
     ##1       #:7   ==&gt; 11.011
      Absolute error = 1.1000000000e-2, Relative error = 1.0000000000e-3
     ##1       #:7   &lt;== 1.0e-1
     ##1       #:8   ==&gt; -1.0e-1
      Absolute error = 2.0000000000e-1, Relative error = 2.0000000000e+0
     ----------------
     ##2       #:2   &lt;== 2
     ##2       #:3   ==&gt; 2.2
      Absolute error = 2.0000000000e-1, Relative error = 1.0000000000e-1
     ##2       #:6   &lt;== 24.0
     ##2       #:7   ==&gt; 24.024
      Absolute error = 2.4000000000e-2, Relative error = 1.0000000000e-3
     ##2       #:7   &lt;== 1.0e-2
     ##2       #:8   ==&gt; -1.0e-2
      Absolute error = 2.0000000000e-2, Relative error = 2.0000000000e+0
     ----------------
     ##3       #:2   &lt;== 3
     ##3       #:3   ==&gt; 3.3
      Absolute error = 3.0000000000e-1, Relative error = 1.0000000000e-1
     ##3       #:6   &lt;== 39.0
     ##3       #:7   ==&gt; 39.039
      Absolute error = 3.9000000000e-2, Relative error = 1.0000000000e-3
     ##3       #:7   &lt;== 1.0e-3
     ##3       #:8   ==&gt; -1.0e-3
      Absolute error = 2.0000000000e-3, Relative error = 2.0000000000e+0
     ----------------
     ##4       #:2   &lt;== 4
     ##4       #:3   ==&gt; 4.4
      Absolute error = 4.0000000000e-1, Relative error = 1.0000000000e-1
     ##4       #:6   &lt;== 416.0
     ##4       #:7   ==&gt; 416.039
      Absolute error = 3.9000000000e-2, Relative error = 9.3750000000e-5
     ##4       #:7   &lt;== 1.0e-4
     ##4       #:8   ==&gt; -1.0e-4
      Absolute error = 2.0000000000e-4, Relative error = 2.0000000000e+0
     
     +++  File "many_columns1" differs from file "many_columns3"
</pre>
   <p class="noindent">does not show the same difference listing of the command
&lsquo;<samp><span class="samp">numdiff -a 0.5:3-6 many_columns1 many_columns2</span></samp>&rsquo;.

   <p>If what you want is to obtain the same difference listing
of &lsquo;<samp><span class="samp">numdiff -a 0.5:3-6 many_columns1 many_columns2</span></samp>&rsquo;, then
the right command is &lsquo;<samp><span class="samp">numdiff -X 2:2 -a 0.5:3-6:4-7 many_columns1 many_columns3</span></samp>&rsquo;. 
The report printed by this last command is indeed
<pre class="example">     ----------------
     ##1       #:2   &lt;== 1
     ##1       #:3   ==&gt; 1.1
      Absolute error = 1.0000000000e-1, Relative error = 1.0000000000e-1
     ##1       #:7   &lt;== 1.0e-1
     ##1       #:8   ==&gt; -1.0e-1
      Absolute error = 2.0000000000e-1, Relative error = 2.0000000000e+0
     ----------------
     ##2       #:2   &lt;== 2
     ##2       #:3   ==&gt; 2.2
      Absolute error = 2.0000000000e-1, Relative error = 1.0000000000e-1
     ##2       #:7   &lt;== 1.0e-2
     ##2       #:8   ==&gt; -1.0e-2
      Absolute error = 2.0000000000e-2, Relative error = 2.0000000000e+0
     ----------------
     ##3       #:2   &lt;== 3
     ##3       #:3   ==&gt; 3.3
      Absolute error = 3.0000000000e-1, Relative error = 1.0000000000e-1
     ##3       #:7   &lt;== 1.0e-3
     ##3       #:8   ==&gt; -1.0e-3
      Absolute error = 2.0000000000e-3, Relative error = 2.0000000000e+0
     ----------------
     ##4       #:2   &lt;== 4
     ##4       #:3   ==&gt; 4.4
      Absolute error = 4.0000000000e-1, Relative error = 1.0000000000e-1
     ##4       #:7   &lt;== 1.0e-4
     ##4       #:8   ==&gt; -1.0e-4
      Absolute error = 2.0000000000e-4, Relative error = 2.0000000000e+0
     
     +++  File "many_columns1" differs from file "many_columns3"
</pre>
   <p class="noindent">and up to the positions of the fields from <samp><span class="file">many_columns3</span></samp>
coincides with the one of &lsquo;<samp><span class="samp">numdiff -a 0.5:3-6 many_columns1 many_columns2</span></samp>&rsquo;.

   <p>The option <samp><span class="option">-a</span></samp> can appear more times on the command line. 
In case of conflicts, the last setting is the one
which matters. 
If you look at the report of the command
&lsquo;<samp><span class="samp">numdiff -a 0.5:3-6 -a 0.08:4 many_columns1 many_columns2</span></samp>&rsquo;
<pre class="example">     ----------------
     ##1       #:2   &lt;== 1
     ##1       #:2   ==&gt; 1.1
      Absolute error = 1.0000000000e-1, Relative error = 1.0000000000e-1
     ##1       #:7   &lt;== 1.0e-1
     ##1       #:7   ==&gt; -1.0e-1
      Absolute error = 2.0000000000e-1, Relative error = 2.0000000000e+0
     ----------------
     ##2       #:2   &lt;== 2
     ##2       #:2   ==&gt; 2.2
      Absolute error = 2.0000000000e-1, Relative error = 1.0000000000e-1
     ##2       #:7   &lt;== 1.0e-2
     ##2       #:7   ==&gt; -1.0e-2
      Absolute error = 2.0000000000e-2, Relative error = 2.0000000000e+0
     ----------------
     ##3       #:2   &lt;== 3
     ##3       #:2   ==&gt; 3.3
      Absolute error = 3.0000000000e-1, Relative error = 1.0000000000e-1
     ##3       #:4   &lt;== 9
     ##3       #:4   ==&gt; 9.09
      Absolute error = 9.0000000000e-2, Relative error = 1.0000000000e-2
     ##3       #:7   &lt;== 1.0e-3
     ##3       #:7   ==&gt; -1.0e-3
      Absolute error = 2.0000000000e-3, Relative error = 2.0000000000e+0
     ----------------
     ##4       #:2   &lt;== 4
     ##4       #:2   ==&gt; 4.4
      Absolute error = 4.0000000000e-1, Relative error = 1.0000000000e-1
     ##4       #:4   &lt;== 16
     ##4       #:4   ==&gt; 16.16
      Absolute error = 1.6000000000e-1, Relative error = 1.0000000000e-2
     ##4       #:7   &lt;== 1.0e-4
     ##4       #:7   ==&gt; -1.0e-4
      Absolute error = 2.0000000000e-4, Relative error = 2.0000000000e+0
     
     +++  File "many_columns1" differs from file "many_columns2"
</pre>
   <p class="noindent">you see that 0.08 and not 0.5 is taken as threshold value
for the comparison of the fields in fourth position.

   <p>Finally, if <samp><span class="option">-a</span></samp> is not present on the command line,
then the default threshold value of zero applies to all comparisons
of numerical fields and any non null absolute difference
is considered as significant, unless some other option,
for example <samp><span class="option">-P</span></samp> or <samp><span class="option">-N</span></samp>, makes <samp><span class="command">numdiff</span></samp> ignore it.

   <p>The option <samp><span class="option">-r</span></samp> can be used to order that
two numerical fields must be considered equal as long
as their relative difference does not exceed a certain threshold,
which is specified by the argument that follows the <samp><span class="option">-r</span></samp> option. 
As for the option <samp><span class="option">-a</span></samp>, the argument of <samp><span class="option">-r</span></samp>
can have several forms. These forms are the same accepted by
<samp><span class="option">-a</span></samp> and have the same meanings, but the threshold value
applies to the relative difference, not to the absolute one.

   <p>The relative difference is normally defined in this way. 
If <em>n1</em> is a value from the file
specified as first on the command line and <em>n2</em>
is the corresponding value from the second file,
then the absolute difference is given by the formula <em>A=|n1-n2|</em>. 
The relative difference <em>R</em> is given by:

     <ul>
<li><em>R = 0</em> if <em>n1</em> and <em>n2</em> are equal,
<li><em>Inf</em> (infinity) if <em>n2</em> differs from <em>n1</em> and
at least one of them is zero,
<li><em>R = A/ min(|n1|, |n2|)</em> if <em>n1</em> and <em>n2</em> are
both non zero and <em>n2</em> differs from <em>n1</em>. <em>min(|n1|, |n2|)</em>
denotes the minimum between the absolute value of <em>n1</em>
and the absolute value of <em>n2</em>. 
</ul>

<p class="noindent">With this definition of relative difference it turns out that
<em>R(n2, n1) = R(n1, n2)</em>: the relative difference
does not change if you only change the ordering of the compared files
on the command line.

   <p><a name="Alternative-formulas-for-the-computation-of-the-relative-difference"></a>However there are cases when this default definition of
relative error makes no sense. This can happen for instance
when one of the files is a sample file containing a list of expected data,
which could have been computed theoretically or come from experiments in a laboratory. 
In this case it is more natural to define the relative difference
as the ratio between the absolute difference and the absolute
value of the number coming from the sample file. 
If you use the option <samp><span class="option">-F</span></samp> together with the argument 1
(or 2), then Numdiff always compute
the relative difference as the ratio between the absolute difference and the absolute
value of the number from the first file (the second file, respectively). 
More precisely, with &lsquo;<samp><span class="samp">-F 1</span></samp>&rsquo;
the relative difference <em>R</em> is computed according to
these rules:
     <ul>
<li><em>R = 0</em> if <em>n1</em> and <em>n2</em> are equal,
<li><em>Inf</em> (infinity) if <em>n2</em> differs from <em>n1</em> and
<em>n1</em> is zero,
<li><em>R = |n1-n2|/ |n1|</em> if <em>n1</em> is not zero
and <em>n2</em> differs from <em>n1</em>. 
</ul>

<p class="noindent">With &lsquo;<samp><span class="samp">-F 2</span></samp>&rsquo; the rules become:
     <ul>
<li><em>R = 0</em> if <em>n1</em> and <em>n2</em> are equal,
<li><em>Inf</em> (infinity) if <em>n2</em> differs from <em>n1</em> and
<em>n2</em> is zero,
<li><em>R = |n1-n2|/ |n2|</em> if <em>n2</em> is not zero
and <em>n2</em> differs from <em>n1</em>. 
</ul>

<p class="noindent">With the last two sets of rules it is not anymore true
that <em>R(n2, n1) = R(n1, n2)</em>: the relative difference
changes, in the general case, together with the ordering of the files
on the command line. 
As a simple example, suppose that <var>file1</var> and <var>file2</var> contain
<pre class="verbatim">1    9.9  0.5  440
</pre>

<p class="noindent">and
<pre class="verbatim">1.2  8    0.51 400 
</pre>

<p class="noindent">respectively. Then
&lsquo;<samp><span class="samp">numdiff </span><var>file1</var> <var>file2</var></samp>&rsquo; displays
<pre class="example">     ----------------
     ##1       #:1   &lt;== 1
     ##1       #:1   ==&gt; 1.2
      Absolute error = 2.0000000000e-1, Relative error = 2.0000000000e-1
     ##1       #:2   &lt;== 9.9
     ##1       #:2   ==&gt; 8
      Absolute error = 1.9000000000e+0, Relative error = 2.3750000000e-1
     ##1       #:3   &lt;== 0.5
     ##1       #:3   ==&gt; 0.51
      Absolute error = 1.0000000000e-2, Relative error = 2.0000000000e-2
     ##1       #:4   &lt;== 440
     ##1       #:4   ==&gt; 400
      Absolute error = 4.0000000000e+1, Relative error = 1.0000000000e-1
     
     +++  File "file1" differs from file "file2"
</pre>
   <p class="noindent">&lsquo;<samp><span class="samp">numdiff -F 1 </span><var>file1</var> <var>file2</var></samp>&rsquo;
prints
<pre class="example">     ----------------
     ##1       #:1   &lt;== 1
     ##1       #:1   ==&gt; 1.2
      Absolute error = 2.0000000000e-1, Relative error = 2.0000000000e-1
     ##1       #:2   &lt;== 9.9
     ##1       #:2   ==&gt; 8
      Absolute error = 1.9000000000e+0, Relative error = 1.9191919192e-1
     ##1       #:3   &lt;== 0.5
     ##1       #:3   ==&gt; 0.51
      Absolute error = 1.0000000000e-2, Relative error = 2.0000000000e-2
     ##1       #:4   &lt;== 440
     ##1       #:4   ==&gt; 400
      Absolute error = 4.0000000000e+1, Relative error = 9.0909090909e-2
     
     +++  File "file1" differs from file "file2"
</pre>
   <p class="noindent">the output of
&lsquo;<samp><span class="samp">numdiff -F 2 </span><var>file1</var> <var>file2</var></samp>&rsquo; is
<pre class="example">     ----------------
     ##1       #:1   &lt;== 1
     ##1       #:1   ==&gt; 1.2
      Absolute error = 2.0000000000e-1, Relative error = 1.6666666667e-1
     ##1       #:2   &lt;== 9.9
     ##1       #:2   ==&gt; 8
      Absolute error = 1.9000000000e+0, Relative error = 2.3750000000e-1
     ##1       #:3   &lt;== 0.5
     ##1       #:3   ==&gt; 0.51
      Absolute error = 1.0000000000e-2, Relative error = 1.9607843137e-2
     ##1       #:4   &lt;== 440
     ##1       #:4   ==&gt; 400
      Absolute error = 4.0000000000e+1, Relative error = 1.0000000000e-1
     
     +++  File "file1" differs from file "file2"
</pre>
   <p class="noindent">&lsquo;<samp><span class="samp">numdiff -F 1 -r 0.195 </span><var>file1</var> <var>file2</var></samp>&rsquo;
displays
<pre class="example">     ----------------
     ##1       #:1   &lt;== 1
     ##1       #:1   ==&gt; 1.2
      Absolute error = 2.0000000000e-1, Relative error = 2.0000000000e-1
     
     +++  File "file1" differs from file "file2"
</pre>
   <p class="noindent">and, finally,
&lsquo;<samp><span class="samp">numdiff -F 2 -r 0.195 </span><var>file1</var> <var>file2</var></samp>&rsquo;
displays
<pre class="example">     ----------------
     ##1       #:2   &lt;== 9.9
     ##1       #:2   ==&gt; 8
      Absolute error = 1.9000000000e+0, Relative error = 2.3750000000e-1
     
     +++  File "file1" differs from file "file2"
</pre>
   <p class="noindent">The option <samp><span class="option">-2</span></samp> is only meaningful when the user
specifies a non-zero tolerance threshold for both
absolute and relative difference. Without this option
<samp><span class="command">numdiff</span></samp> considers two numerical fields equal
as long as at least one between
absolute and relative difference does not exceed the
corresponding threshold. 
With the option <samp><span class="option">-2</span></samp> <samp><span class="command">numdiff</span></samp> regards two numerical
fields as equal only if both absolute and relative difference do not exceed the
thresholds of tolerance specified for those fields. 
For example, if <var>file1</var> contains the unique line
<pre class="verbatim">100
</pre>

<p class="noindent">and <var>file2</var> the line
<pre class="verbatim">100.00012
</pre>

<p class="noindent">then the output of the command &lsquo;<samp><span class="samp">numdiff </span><var>file1</var> <var>file2</var></samp>&rsquo;
will be

<pre class="example">     ----------------
     ##1       #:1   &lt;== 100
                     ==&gt; 100.00012
     @ Absolute error = 1.2000000000e-4, Relative error = 1.2000000000e-6
     
     +++  File "<var>file1</var>" differs from file "<var>file2</var>"
</pre>
   <p class="noindent">The output of the commands
&lsquo;<samp><span class="samp">numdiff -a 1.0e-4 </span><var>file1</var> <var>file2</var></samp>&rsquo; and
&lsquo;<samp><span class="samp">numdiff -r 1.0e-6 </span><var>file1</var> <var>file2</var></samp>&rsquo;
will be the same as above, but
&lsquo;<samp><span class="samp">numdiff -a 1.0e-4 -r 1.3e-6 </span><var>file1</var> <var>file2</var></samp>&rsquo; and
&lsquo;<samp><span class="samp">numdiff -a 1.3e-4 -r 1.0e-6 </span><var>file1</var> <var>file2</var></samp>&rsquo;
will print the message
<pre class="example">     
     +++  Files "<var>file1</var>" and "<var>file2</var>" are equal
</pre>
   <p class="noindent">since the relative difference is 1.2e-6 &lt; 1.3e-6,
the absolute difference is 1.2e-4 &lt; 1.3e-4, and
it is sufficient that one of them does not exceed
its tolerance threshold.

   <p>On the other hand, the commands
&lsquo;<samp><span class="samp">numdiff -a 1.0e-4 -r 1.3e-6 -2 </span><var>file1</var> <var>file2</var></samp>&rsquo; and
&lsquo;<samp><span class="samp">numdiff -a 1.3e-4 -r 1.0e-6 -2 </span><var>file1</var> <var>file2</var></samp>&rsquo;
will print the message

<pre class="example">     ----------------
     ##1       #:1   &lt;== 100
                     ==&gt; 100.00012
     @ Absolute error = 1.2000000000e-4, Relative error = 1.2000000000e-6
     
     +++  File "<var>file1</var>" differs from file "<var>file2</var>"
</pre>
   <p class="noindent">since the option <samp><span class="option">-2</span></samp> makes <samp><span class="command">numdiff</span></samp> regard two values
as equal only if both absolute and relative difference do not exceed
the corresponding threshold of tolerance.

   <p>The option <samp><span class="option">-P</span></samp> makes <samp><span class="command">numdiff</span></samp> consider two values equal
whenever the second one, i.e. the value coming from the file specified as last
on the command line, is less or equal than the first one, which
is the value coming from the file specified as first on the command line. 
If the values to compare are complex numbers, saying that
the second one is less or equal than the first one means that
both real and imaginary part of the second value are
not greater than the real part and, respectively,
the imaginary part of the first value.

   <p>Finally, the option <samp><span class="option">-N</span></samp> makes <samp><span class="command">numdiff</span></samp> consider two values equal
whenever the second one, i.e. the value coming from the file specified as last
on the command line, is greater or equal than the first one, which
is the value coming from the file specified as first on the command line. 
If the values to compare are complex numbers, saying that
the second one is greater or equal than the first one means that
both real and imaginary part of the second value are
not less than the real part and, respectively,
the imaginary part of the first value.

   <p>The options <samp><span class="option">-B</span></samp>, <samp><span class="option">-I</span></samp>, <samp><span class="option">-l</span></samp>, <samp><span class="option">-o</span></samp>, <samp><span class="option">-h</span></samp> and
<samp><span class="option">-v</span></samp> do not require further explanations. 
The options <samp><span class="option">-l</span></samp> and <samp><span class="option">-o</span></samp> are only supplied
for the users of some poorly designed operating systems
(like MSDog or MSWindoze), whose default shell does not
allow the redirection of standard error and standard output. 
The option <samp><span class="option">-I</span></samp> has no effect on the outcome
of numerical comparisons but affects the action of
the filter, see <a href="#Filtering">Filtering</a>.

   <p>The option <samp><span class="option">-s</span></samp> requires as argument a set of characters,
which will be taken as field delimiters. 
It is better to quote the set of the delimiters,
just as in the next examples:

<pre class="example">     numdiff -s ' \t\n,;:.' <var>file1</var> <var>file2</var>
     numdiff -s ' \t\n\r\f\v"\:;' <var>file1</var> <var>file2</var>
     numdiff -s `` \t\n''' <var>file1</var> <var>file2</var>
</pre>
   <p class="noindent">If you want to include in the set of delimiters also
some special characters, e.g the <strong>blank</strong>, then
you must quote it. 
I recommend you to always use the single quote character
(<tt>'</tt>) to enclose the list of the delimiters,
since in this way you will prevent
any substitution or handling of characters by the shell.

<p class="noindent"><samp><span class="command">numdiff</span></samp> recognizes and interprets
the following sequences of characters within the argument
passed to the option <samp><span class="option">-s</span></samp>:

     <ul>
<li>&lsquo;<samp><span class="samp">\a</span></samp>&rsquo;     alert (bell),
<li>&lsquo;<samp><span class="samp">\b</span></samp>&rsquo;     backspace,
<li>&lsquo;<samp><span class="samp">\f</span></samp>&rsquo;     form feed,
<li>&lsquo;<samp><span class="samp">\n</span></samp>&rsquo;     newline,
<li>&lsquo;<samp><span class="samp">\r</span></samp>&rsquo;     carriage return,
<li>&lsquo;<samp><span class="samp">\s</span></samp>&rsquo;     blank,
<li>&lsquo;<samp><span class="samp">\t</span></samp>&rsquo;     horizontal tab,
<li>&lsquo;<samp><span class="samp">\v</span></samp>&rsquo;     vertical tab,
<li>&lsquo;<samp><span class="samp">\\</span></samp>&rsquo;     backslash,
<li>&lsquo;<samp><span class="samp">\</span><var>nnn</var></samp>&rsquo;   the eight-bit character whose value is the octal value <var>nnn</var> (one to three digits),
<li>&lsquo;<samp><span class="samp">\x</span><var>HH</var></samp>&rsquo;   the eight-bit character whose value is the hexadecimal value <var>HH</var> (one or two digits). 
</ul>

<p class="noindent">By passing the string &lsquo;<samp><span class="samp"> \t\n,;:.</span></samp>&rsquo; as argument
for the option <samp><span class="option">-s</span></samp>, one tells <samp><span class="command">numdiff</span></samp> to use
as field delimiters the characters <strong>blank</strong>,
<strong>horizontal tab</strong>, <strong>newline</strong>, <strong>comma</strong>,
<strong>semicolon</strong>, <strong>colon</strong> and <strong>dot</strong>. 
Passing &lsquo;<samp><span class="samp"> \t\n</span></samp>&rsquo; as argument to the option <samp><span class="option">-s</span></samp>
is the same as not using at all the option <samp><span class="option">-s</span></samp>, since
<strong>blank</strong>, <strong>horizontal tab</strong> and <strong>newline</strong>
are the default field delimiters.

   <p>In the list of field delimiters the character <strong>backslash</strong>
(&lsquo;<samp><span class="samp">\</span></samp>&rsquo;) is always treated in a special way. 
If it forms, combined with the subsequent character(s), one
of the backslash escape sequences listed above, then it is
considered to be an escape character and the whole escape sequence is
decoded as shown above. Otherwise, the <strong>backslash</strong> is just ignored.

   <p>Therefore, the delimiters specified by the command line

<pre class="example">     numdiff -s' \t\n\\\"' <var>file1</var> <var>file2</var>
</pre>
   <p class="noindent">are <strong>blank</strong>, <strong>horizontal tab</strong>, <strong>newline</strong>,
<strong>backslash</strong> and <strong>double quote</strong>, since
&lsquo;<samp><span class="samp">\\</span></samp>&rsquo; and &lsquo;<samp><span class="samp">\"</span></samp>&rsquo; are interpreted by <samp><span class="command">numdiff</span></samp>
as &lsquo;<samp><span class="samp">\</span></samp>&rsquo; and &lsquo;<samp><span class="samp">"</span></samp>&rsquo;.

   <p>Even if I have recommended to enclose the set of
delimiters in single quotes, there are
cases in which you will be constrained to use
the double quote character (&lsquo;<samp><span class="samp">"</span></samp>&rsquo;) to enclose
the set of field delimiters, e.g. if the single
quote character is used as field delimiter, like
in one of the precedent examples. 
However you must take into account that in this case
the shell could make some substitutions on the command line
before executing <samp><span class="command">numdiff</span></samp>. 
For instance, if your shell is GNU bash, then (citing the man page of
GNU bash)
<blockquote>
Enclosing characters in double quotes preserves the literal value of
all characters within the quotes, with the exception of &lsquo;<samp><span class="samp">$</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">`</span></samp>&rsquo;, and &lsquo;<samp><span class="samp">\</span></samp>&rsquo;. 
The characters &lsquo;<samp><span class="samp">$</span></samp>&rsquo; and &lsquo;<samp><span class="samp">`</span></samp>&rsquo; retain their special
meaning within double quotes. 
The backslash retains its special meaning only when followed by one of
the following characters: &lsquo;<samp><span class="samp">$</span></samp>&rsquo;, &lsquo;<samp><span class="samp">`</span></samp>&rsquo;, &lsquo;<samp><span class="samp">"</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">\</span></samp>&rsquo;, or <strong>&lt;newline&gt;</strong>. 
A double quote may be quoted within double quotes by preceding
it with a backslash <small class="enddots">...</small>
The special parameters * and @ have special meaning when in double quotes
<small class="dots">...</small>

   </blockquote>

<p class="noindent">Therefore, if the set of delimiters is formed by &lsquo;<samp> </samp>&rsquo;, &lsquo;<samp><span class="samp">\t</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">\n</span></samp>&rsquo;, &lsquo;<samp><span class="samp">\</span></samp>&rsquo; and &lsquo;<samp><span class="samp">"</span></samp>&rsquo;, and you decide to enclose them
in double quotes, the <samp><span class="command">numdiff</span></samp> command line should be

<pre class="example">     numdiff -s'' \t\n\\\\\"'' <var>file1</var> <var>file2</var>
</pre>
   <p class="noindent">and not

<pre class="example">     numdiff -s'' \t\n\\\"'' <var>file1</var> <var>file2</var>
</pre>
   <p class="noindent">In this last case the shell would indeed replace the string

   <p>&lsquo;<samp><span class="samp"> \t\n\\\"</span></samp>&rsquo;

<p class="noindent">by

   <p>&lsquo;<samp><span class="samp"> \t\n\"</span></samp>&rsquo;

<p class="noindent">and then <samp><span class="command">numdiff</span></samp> would take &lsquo;<samp> </samp>&rsquo;, &lsquo;<samp><span class="samp">\t</span></samp>&rsquo;, &lsquo;<samp><span class="samp">\n</span></samp>&rsquo;
and &lsquo;<samp><span class="samp">"</span></samp>&rsquo; as field delimiters.

   <p><samp><span class="command">numdiff</span></samp> requires the presence of the <strong>newline</strong>
in the set of characters passed to <samp><span class="option">-s</span></samp>. The absence
of the <strong>newline</strong> in the set of delimiters causes the issue
of a suitable warning message and the termination of the program.

   <p>If you run Numdiff with the option <samp><span class="option">-B</span></samp> (<samp><span class="option">--binary</span></samp>)
on files created under MSDog/MSWindoze, then you should
put the <strong>carriage return</strong> in the set of field delimiters. 
Otherwise, this character would be included in all the fields
which stay at the end of a line and this would cause some
undesirable effects. For instance, a number put at the
end of a line would not be regarded as a numerical field
by <samp><span class="command">numdiff</span></samp>, since <samp><span class="command">numdiff</span></samp> would consider
the final <strong>carriage return</strong> as part of the field and
this one would be then qualified as non-numerical.

   <p>You can specify different delimiters for the two files to compare
by putting the prefix &lsquo;<samp><span class="samp">1:</span></samp>&rsquo; or &lsquo;<samp><span class="samp">2:</span></samp>&rsquo; in front of the
set of characters passed to <samp><span class="option">-s</span></samp>. 
If the argument of <samp><span class="option">-s</span></samp> begins with &lsquo;<samp><span class="samp">1:</span></samp>&rsquo;, the
characters after this prefix are used as field delimiters
only for the file passed as first on the command line. 
Analogously, if the prefix is &lsquo;<samp><span class="samp">2:</span></samp>&rsquo;, then the
characters after it are used as field delimiters only
for the file specified as second on the command line. 
You can also provide an explicit set of
delimiters for just one of the files to compare,
in which case <samp><span class="command">numdiff</span></samp> uses the default field
delimiters <strong>blank</strong>, <strong>tab</strong> and <strong>newline</strong>
for the other file. 
Therefore, with
&lsquo;<samp><span class="samp">numdiff -s '1:: \n' </span><var>file1</var> <var>file2</var></samp>&rsquo;
the program will take <strong>colon</strong>, <strong>blank</strong>
and <strong>newline</strong> as delimiters for <var>file1</var>,
and <strong>blank</strong>, <strong>tab</strong> and
<strong>newline</strong> as delimiters for <var>file2</var>. 
The recommendations about quoting the set of delimiters
are valid also in presence of a prefix.

   <p>Starting from version 5.8 <samp><span class="command">numdiff</span></samp> allows to specify
whole strings as field delimiters instead of single characters. 
To this purpose the option <samp><span class="option">-D</span></samp> is provided. 
Assume that file <samp><span class="file">register1</span></samp> and file <samp><span class="file">register2</span></samp> contain
<pre class="verbatim">--A:    +1.0---
--B:    -2.0---
--C:    +3.0---
--D:    -4.0---
--E:    +5.0---
--F:    -6.0---
</pre>

<p class="noindent">and
<pre class="verbatim">--a:    +1.1---
--b:    -2.2---
--c:    +3.3---
--d:    -4.4---
--e:    +5.5---
--f:    -6.6---
</pre>

<p class="noindent">respectively. Assume in addition, you would like that the dashes
at the begin and at the end of every line are treated as delimiters and then
neglected during the line by line comparison. To obtain this you cannot just
specify the character <tt>-</tt> (minus) as delimiter via the option
<samp><span class="option">-s</span></samp>: if you do it, then the negative numbers appearing in the
two files will be treated as positive, since the minus sign will be regarded
as a delimiter. By means of the option <samp><span class="option">-D</span></samp> you can tell <samp><span class="command">numdiff</span></samp>
to consider the strings <tt>--</tt> and <tt>---</tt> as field delimiters
but not the single character <tt>-</tt>. 
To see this in practice, look at the output of the command
&lsquo;<samp><span class="samp">numdiff -D ': -- --- \s \n' register1 register2</span></samp>&rsquo;:
<pre class="example">     ----------------
     ##1       #:1   &lt;== A
     ##1       #:1   ==&gt; a
                                                          @
     ##1       #:2   &lt;== +1.0
     ##1       #:2   ==&gt; +1.1
      Absolute error = 1.0000000000e-1, Relative error = 1.0000000000e-1
     ----------------
     ##2       #:1   &lt;== B
     ##2       #:1   ==&gt; b
                                                          @
     ##2       #:2   &lt;== -2.0
     ##2       #:2   ==&gt; -2.2
      Absolute error = 2.0000000000e-1, Relative error = 1.0000000000e-1
     ----------------
     ##3       #:1   &lt;== C
     ##3       #:1   ==&gt; c
                                                          @
     ##3       #:2   &lt;== +3.0
     ##3       #:2   ==&gt; +3.3
      Absolute error = 3.0000000000e-1, Relative error = 1.0000000000e-1
     ----------------
     ##4       #:1   &lt;== D
     ##4       #:1   ==&gt; d
                                                          @
     ##4       #:2   &lt;== -4.0
     ##4       #:2   ==&gt; -4.4
      Absolute error = 4.0000000000e-1, Relative error = 1.0000000000e-1
     ----------------
     ##5       #:1   &lt;== E
     ##5       #:1   ==&gt; e
                                                          @
     ##5       #:2   &lt;== +5.0
     ##5       #:2   ==&gt; +5.5
      Absolute error = 5.0000000000e-1, Relative error = 1.0000000000e-1
     ----------------
     ##6       #:1   &lt;== F
     ##6       #:1   ==&gt; f
                                                          @
     ##6       #:2   &lt;== -6.0
     ##6       #:2   ==&gt; -6.6
      Absolute error = 6.0000000000e-1, Relative error = 1.0000000000e-1
     
     +++  File "register1" differs from file "register2"
</pre>
   <p class="noindent">The argument &lsquo;<samp><span class="samp">-D ': -- --- \s \n'</span></samp>&rsquo; instructs <samp><span class="command">numdiff</span></samp> to
regard every occurrence of a colon (<tt>:</tt>), of a blank (<tt>\s</tt>),
of a newline (<tt>\n</tt>), as well as every occurrence of the strings
<tt>--</tt> and <tt>---</tt> as field delimiters. The minus sign in
front of the negative numbers is then handled as it should be.

   <p>In general the argument to the option <samp><span class="option">-D</span></samp> is a blank
separated sequence of one or more strings each of which contains
no blank. 
Thus, the general form of the argument to the option <samp><span class="option">-D</span></samp> is
<pre class="example">     <var>string1</var> <var>string2</var> ... <var>stringN</var>
</pre>
   <p class="noindent">where <var>string1</var>, <var>string2</var>, and so on are sequences of one or
more characters (strings) containing no blank.

   <p>Mind that at least one of these strings must be &lsquo;<samp><span class="samp">\n</span></samp>&rsquo;. 
In addition, if a string contains the newline character, this
must be the only one: strings like &lsquo;<samp><span class="samp">#\n</span></samp>&rsquo;, &lsquo;<samp><span class="samp">%%\n</span></samp>&rsquo;, or
&lsquo;<samp><span class="samp">\s\n</span></samp>&rsquo; are not allowed (entering such a string makes
the program terminate after issuing a suitable warning message).

   <p>Since the blank character has a special meaning for the shell, if
the argument of <samp><span class="option">-D</span></samp> is formed by two or more strings
it should be quoted either with a single (&lsquo;<samp><span class="samp">'</span></samp>&rsquo;)
or with a double quote (&lsquo;<samp><span class="samp">"</span></samp>&rsquo;). 
Quoting is also adviced if one of the strings passed to <samp><span class="option">-D</span></samp>
contains a character (or a sequence of characters)
having a special meaning for the shell.

   <p>For the usage of single and double quoting to delimit
the argument of <samp><span class="option">-D</span></samp> the same warnings and recommendations
apply as for the argument of <samp><span class="option">-s</span></samp>.

   <p>If you want to set as delimiter a string which contains one or more blanks,
then you have to make use of the escape sequence <samp><span class="option">\s</span></samp>,
like in the example above: within the argument of <samp><span class="option">-D</span></samp> the blank
character is always interpreted as a separator of adjacent delimiters.

   <p>More generally, when writing the argument of <samp><span class="option">-D</span></samp>
the same escape sequences are allowed as for the argument of <samp><span class="option">-s</span></samp>. 
This turns out to be particularly useful whenever a multibyte character
is used as delimiter in (one of) the files to compare. 
As example consider the comparison between <samp><span class="file">ledger1</span></samp>:
<pre class="example">                  In                            Out
     
     Jan      1200.00&euro;                1000.00&euro;
     Feb       800.40&euro;                 650.00&euro;
     Mar      1620.50&euro;                1500.00&euro;
     Apr       760.00&euro;                 900.00&euro;
     
     Total    4380.90&euro;                4050.00&euro;
     
     Difference: +330.90&euro;
</pre>
   <p class="noindent">and <samp><span class="file">ledger2</span></samp>:
<pre class="example">                  In                            Out
     
     Jan      1100.00&euro;                1000.00&euro;
     Feb       800.40&euro;                 750.00&euro;
     Mar      1620.50&euro;                1700.00&euro;
     Apr       750.00&euro;                 900.00&euro;
     
     Total    4270.90&euro;                4350.00&euro;
     
     Difference: -79.10&euro;
</pre>
   <p>Since the Euro symbol is attached to all values,
<samp><span class="command">numdiff</span></samp> cannot compare them in the proper way
if it is run with the default field delimiters, as
the output of the command &lsquo;<samp><span class="samp">numdiff ledger1 ledger2</span></samp>&rsquo; shows:
<pre class="example">     ----------------
     ##3       #:2   &lt;== 1200.00&euro;
     ##3       #:2   ==&gt; 1100.00&euro;
                                                          @
     ----------------
     ##4       #:3   &lt;== 650.00&euro;
     ##4       #:3   ==&gt; 750.00&euro;
                                                          @
     ----------------
     ##5       #:3   &lt;== 1500.00&euro;
     ##5       #:3   ==&gt; 1700.00&euro;
                                                          @
     ----------------
     ##6       #:2   &lt;== 760.00&euro;
     ##6       #:2   ==&gt; 750.00&euro;
                                                          @
     ----------------
     ##8       #:2   &lt;== 4380.90&euro;
     ##8       #:2   ==&gt; 4270.90&euro;
                                                          @
     ##8       #:3   &lt;== 4050.00&euro;
     ##8       #:3   ==&gt; 4350.00&euro;
                                                          @
     ----------------
     ##10      #:2   &lt;== +330.90&euro;
     ##10      #:2   ==&gt; -79.10&euro;
                                                          @
     
     +++  File "ledger1" differs from file "ledger2"
</pre>
   <p class="noindent">The trick to perform the comparison in the proper way consists
in specifying the &euro; symbol as field delimiter, in addition
to blank, horizontal tabulation and newline. 
If <samp><span class="file">ledger1</span></samp> and <samp><span class="file">ledger2</span></samp> are encoded in UTF-8,
this can be done by using the option <samp><span class="option">-D</span></samp> with the argument
&lsquo;<samp><span class="samp">\xE2\x82\xAC \s \t \n</span></samp>&rsquo;, since the hexadecimal representation
of &euro; in UTF8 is given by the byte sequence 0xE2 0x82 0xAC. 
On my PC the output of the command
&lsquo;<samp><span class="samp">numdiff -D '\xE2\x82\xAC \s \t \n' ledger1 ledger2</span></samp>&rsquo;
shows that in this case <samp><span class="command">numdiff</span></samp> performs indeed
a numerical comparison of the values contained in the two files:
<pre class="example">     ----------------
     ##3       #:2   &lt;== 1200.00
     ##3       #:2   ==&gt; 1100.00
      Absolute error = 1.0000000000e+2, Relative error = 9.0909090909e-2
     ----------------
     ##4       #:3   &lt;== 650.00
     ##4       #:3   ==&gt; 750.00
      Absolute error = 1.0000000000e+2, Relative error = 1.5384615385e-1
     ----------------
     ##5       #:3   &lt;== 1500.00
     ##5       #:3   ==&gt; 1700.00
      Absolute error = 2.0000000000e+2, Relative error = 1.3333333333e-1
     ----------------
     ##6       #:2   &lt;== 760.00
     ##6       #:2   ==&gt; 750.00
      Absolute error = 1.0000000000e+1, Relative error = 1.3333333333e-2
     ----------------
     ##8       #:2   &lt;== 4380.90
     ##8       #:2   ==&gt; 4270.90
      Absolute error = 1.1000000000e+2, Relative error = 2.5755695521e-2
     ##8       #:3   &lt;== 4050.00
     ##8       #:3   ==&gt; 4350.00
      Absolute error = 3.0000000000e+2, Relative error = 7.4074074074e-2
     ----------------
     ##10      #:2   &lt;== +330.90
     ##10      #:2   ==&gt; -79.10
      Absolute error = 4.1000000000e+2, Relative error = 5.1833122630e+0
     
     +++  File "ledger1" differs from file "ledger2"
</pre>
   <p>If <samp><span class="file">ledger1</span></samp> and <samp><span class="file">ledger2</span></samp> had been saved using
a multi-byte encoding different from UTF-8, then the sequence
of bytes which corresponds to &euro; in this other encoding should have been
passed to <samp><span class="option">-D</span></samp>.

   <p>As for <samp><span class="option">-s</span></samp>, with <samp><span class="option">-D</span></samp> you can specify different delimiters
for the two files to compare by means of the prefixes &lsquo;<samp><span class="samp">1:</span></samp>&rsquo; and &lsquo;<samp><span class="samp">2:</span></samp>&rsquo;,
like in &lsquo;<samp><span class="samp">numdiff -D '1:\t \n' -D '2: -- \s \n' first_file second_file</span></samp>&rsquo;. 
The recommendations about quoting the set of delimiters
are valid also in presence of a prefix. 
Mind that, if you provide an explicit set of delimiters for just one of the
files to compare, <samp><span class="command">numdiff</span></samp> uses the default field
delimiters <strong>blank</strong>, <strong>tab</strong> and <strong>newline</strong>
for the other file.

   <p>If you run Numdiff with the option <samp><span class="option">-B</span></samp> (<samp><span class="option">--binary</span></samp>)
on files created under MSDog/MSWindoze, you should
always include the character &lsquo;<samp><span class="samp">\r</span></samp>&rsquo; in the set of field delimiters.

   <p>The option <samp><span class="option">-s</span></samp> and <samp><span class="option">-D</span></samp> can appear more than once
on the command line. In case of conflicts, <samp><span class="command">numdiff</span></samp>
assumes as set of delimiters for a given file the one
specified last on the command line.

   <p>By means of the option <samp><span class="option">-#</span></samp> the user can set the number of digits
in the significands used in multiple precision arithmetic. 
The default value is 35, the largest admissible value is 180. 
If <samp><span class="command">numdiff</span></samp> has been linked against the
GNU Multiple Precision Arithmetic Library (also called GNU MP),
then the precision it uses is typically higher
than the specified one. On my machine the actual value
of the precision is 20 if the user gives a value between 0 and 20,
30 if the user specifies a precision between 21 and 30,
40 for a user-specified value between 31 and 40, and so on. 
Anyway, the actual precision is never less than
the one required by the user.

<p class="noindent">Take into account that an higher precision makes the
execution of <samp><span class="command">numdiff</span></samp> slower. This is particularly
true if <samp><span class="command">numdiff</span></samp> is not using the computational routines
from the GNU MP library and the files to compare contain a lot of numerical fields. 
In addition, you have to care that <samp><span class="command">numdiff</span></samp> truncates
the value of a numerical field if it has <i>too much</i> digits with respect
to the current precision. To be precise, denoted by
<var>P</var> the current value of the precision, the following
rules apply.
     <ul>
<li>If <samp><span class="command">numdiff</span></samp> has been built with
its own internal support for multiple precision arithmetic, then
          <ul>
<li>if a number is written in ordinary decimal notation, <samp><span class="command">numdiff</span></samp>
will consider, in addition to all digits of the integer part, only
the first <var>P</var> digits of the fractional part;
<li>if a value is written in scientific notation, then <samp><span class="command">numdiff</span></samp>
will only consider the first <var>P</var> digits of the fractional part
of the mantissa. 
</ul>
     <li>If <samp><span class="command">numdiff</span></samp> uses the routines from the GNU MP library
to perform its computations, the value of a numerical
field is first translated into scientific notation and then
only the first <var>P</var> digits of the fractional part
of the mantissa are considered. 
</ul>

<p class="noindent">You can find out whether your local version of <samp><span class="command">numdiff</span></samp>
is relying on GNU MP or not by executing the command &lsquo;<samp><span class="samp">numdiff -v</span></samp>&rsquo;. 
If <samp><span class="command">numdiff</span></samp> uses GNU MP, then this command will display
the following message or similar (possibly translated
into your mother language) among other information:
<pre class="example">     The software has been linked against
     the GNU Multiple Precision Arithmetic Library,
     version number 4.2.4.
</pre>
   <p class="noindent">If <samp><span class="command">numdiff</span></samp> does not rely on GNU MP, then
the displayed message will be (up to translation into
your mother language)
<pre class="example">     The software has been built with
     its own internal support for multiple precision arithmetic.
</pre>
   <p class="noindent">By means of the option <samp><span class="option">-c</span></samp> the user can qualify
a string as a symbol or name for a currency. The string
passed as argument to this option is ignored by <samp><span class="command">numdiff</span></samp>
whenever it appears immediately before the first digit of a number. 
In particular, the presence of this string does not prevent a
field from being considered of numeric type. By prefixing
the argument of <samp><span class="option">-c</span></samp> with &lsquo;<samp><span class="samp">1:</span></samp>&rsquo; or &lsquo;<samp><span class="samp">2:</span></samp>&rsquo;
it is possible to set the currency name/symbol only
for one of the compared files, or to specify different
currency names for the two files. As
example we consider the files <samp><span class="file">money1</span></samp>:
<pre class="verbatim">	Profits			Expenses

	+$430.10		-$300.50
	+$750.20		-$550.02
	+$876.24		-$720.00

Totals  $2056.54               -$1570.52
</pre>

<p class="noindent">and <samp><span class="file">money2</span></samp>:
<pre class="verbatim">	Profits			Expenses

	USD430.10		-USD300.50
	USD750.20		-USD550.02
	USD876.24		-USD720.15
	
Totals    2056.54                 -1570.67
</pre>
To properly compare them we have to tell <samp><span class="command">numdiff</span></samp>
that &lsquo;<samp><span class="samp">$</span></samp>&rsquo; and &lsquo;<samp><span class="samp">USD</span></samp>&rsquo; are the currency symbols for
<samp><span class="file">money1</span></samp> and <samp><span class="file">money2</span></samp> respectively. 
This can be achieved by &lsquo;<samp><span class="samp">-c 1:$</span></samp>&rsquo; and &lsquo;<samp><span class="samp">-c 2:USD</span></samp>&rsquo;. 
The output of the command &lsquo;<samp><span class="samp">numdiff -c 1:$ -c 2:USD money1 money2</span></samp>&rsquo; is
<pre class="example">     ----------------
     ##5       #:2   &lt;== -$720.00
     ##5       #:2   ==&gt; -USD720.15
      Absolute error = 1.5000000000e-1, Relative error = 2.0833333333e-4
     ----------------
     ##7       #:3   &lt;== -$1570.52
     ##7       #:3   ==&gt; -1570.67
      Absolute error = 1.5000000000e-1, Relative error = 9.5509767466e-5
     
     +++  File "money1" differs from file "money2"
</pre>
   <p class="noindent">as it should be.

   <p>The argument of <samp><span class="option">-c</span></samp> may also be
a multi-byte string, in particular a multi-byte string encoded in UTF-8. 
If your locale uses UTF-8 as encoding, you can write the argument directly
in this form. For instance, you can write &lsquo;<samp><span class="samp">-c &euro;</span></samp>&rsquo;
to specify as currency name the Euro symbol. 
If your locale does not use UTF-8 as encoding, or UTF-8 is not
supported by your terminal, you may still write an
UTF-8 encoded string as a multi-byte string by specifying each single byte
of every (multi-byte) character. 
To this purpose you can use the same octal and hexadecimal escape sequences
recognized by the options <samp><span class="option">-s</span></samp> and <samp><span class="option">-D</span></samp>.

   <p>For example, if the files to compare are encoded in UTF-8,
you can set &euro; as currency name by
adding &lsquo;<samp><span class="samp">-c '\xE2\x82\xAC'</span></samp>&rsquo; to the command line of
<samp><span class="command">numdiff</span></samp>, since the hexadecimal representation
of &euro; in UTF-8 is given by the sequence of bytes
0xE2 0x82 0xAC. 
Mind that in this case the argument of <samp><span class="option">-c</span></samp> has to be quoted
to avoid the interpretation of the hexadecimal escape sequences by the shell.

   <p>To see this in practice, if <samp><span class="file">euro1</span></samp> contains the text
<pre class="example">     	Profits			       Expenses
     
     	+&euro;430.10		      -&euro;300.50
     	+&euro;750.20		      -&euro;550.02
     	+&euro;876.24		      -&euro;720.00
</pre>
   <p class="noindent">and <samp><span class="file">euro2</span></samp> the text
<pre class="example">     	Profits			       Expenses
     
     	+&euro;430.10		      -&euro;300.00
     	+&euro;750.20		      -&euro;550.02
     	+&euro;876.00		      -&euro;720.00
</pre>
   <p class="noindent">then the report of &lsquo;<samp><span class="samp">numdiff -c '\xE2\x82\xAC' euro1 euro2</span></samp>&rsquo; is
<pre class="example">     ----------------
     ##3       #:2   &lt;== -&euro;300.50
     ##3       #:2   ==&gt; -&euro;300.00
      Absolute error = 5.0000000000e-1, Relative error = 1.6666666667e-3
     ----------------
     ##5       #:1   &lt;== +&euro;876.24
     ##5       #:1   ==&gt; +&euro;876.00
      Absolute error = 2.4000000000e-1, Relative error = 2.7397260274e-4
     
     +++  File "euro1" differs from file "euro2"
</pre>
   <p>Please consider that <samp><span class="option">-c</span></samp>
is only provided to let <samp><span class="command">numdiff</span></samp> regard
a field as numeric also in presence of a currency name
immediately before its first digit: <samp><span class="command">numdiff</span></samp>
does not know anything about currencies and can not perform any
kind of conversion between them. 
In addition, mind that the number after the currency name
can be written in any format, not only in financial notation. 
<samp><span class="command">numdiff</span></samp> can even cope with the currency name
when it appears in a complex number. For example,
with &lsquo;<samp><span class="samp">-c EUR</span></samp>&rsquo; <samp><span class="command">numdiff</span></samp> considers
<tt>+EUR12-EUR0.24i</tt> and <tt>+12-0.24i</tt>
as equal.

   <p>The options <samp><span class="option">-d</span></samp>, <samp><span class="option">-t</span></samp>, <samp><span class="option">-g</span></samp>,
<samp><span class="option">-p</span></samp>, <samp><span class="option">-n</span></samp>, <samp><span class="option">-e</span></samp> and <samp><span class="option">-i</span></samp> can be used
to instruct <samp><span class="command">numdiff</span></samp> about the numeric formats used in the
files which it is going to compare. 
The two files to compare do not have to adopt the same numeric format
and then <samp><span class="command">numdiff</span></samp> allows to specify different numeric
formats for them. 
Each of the options <samp><span class="option">-d</span></samp>, <samp><span class="option">-t</span></samp>, <samp><span class="option">-g</span></samp>,
<samp><span class="option">-p</span></samp>, <samp><span class="option">-n</span></samp>, <samp><span class="option">-e</span></samp>, and <samp><span class="option">-i</span></samp>
can have as argument one or two (single-byte) characters, in particular
one or two digits if the option is <samp><span class="option">-g</span></samp>. In the first case
the argument refers to both files to compare, in the second case
the first character is for the file specified
first on the command line, the second character for
the file specified last. 
For instance, the option <samp><span class="option">-d</span></samp> can be used to
tell <samp><span class="command">numdiff</span></samp> which character(s) is(are)
used to indicate the decimal point in the two files to compare. 
If you give the command
&lsquo;<samp><span class="samp">numdiff -d_ </span><var>file1</var> <var>file2</var></samp>&rsquo;,
then <samp><span class="command">numdiff</span></samp> will understand that both in <var>file1</var> and in <var>file2</var>
the character <strong>underscore</strong> (&lsquo;<samp><span class="samp">_</span></samp>&rsquo;) is used in place
of the default one (&lsquo;<samp><span class="samp">.</span></samp>&rsquo;) to indicate
the position of the decimal point in the numerical values. 
But if the command is
&lsquo;<samp><span class="samp">numdiff -d_: </span><var>file1</var> <var>file2</var></samp>&rsquo;,
then <samp><span class="command">numdiff</span></samp> will understand that the decimal point
is indicated by the character <strong>underscore</strong> in <var>file1</var>,
and by <strong>colon</strong> (&lsquo;<samp><span class="samp">:</span></samp>&rsquo;) in <var>file2</var>.

   <p>If you omit to use one of the options
<samp><span class="option">-d</span></samp>, <samp><span class="option">-t</span></samp>, <samp><span class="option">-g</span></samp>,
<samp><span class="option">-p</span></samp>, <samp><span class="option">-n</span></samp>, <samp><span class="option">-e</span></samp>, and <samp><span class="option">-i</span></samp>, then the corresponding
attribute will take its default value, see <a href="#Default-Numeric-Format">Default Numeric Format</a>.

   <p>You should be careful whenever you use one or more of these options. 
First, not all characters can be passed to them as arguments. 
The arguments of the option <samp><span class="option">-g</span></samp> must be digits,
the arguments of the options <samp><span class="option">-d</span></samp> and <samp><span class="option">-t</span></samp> must
be punctuation marks (punctuation marks are all the
characters of the ASCII set for which the standard C function
<code>ispunct</code> returns a non zero value), those ones
of the options <samp><span class="option">-p</span></samp>, <samp><span class="option">-n</span></samp>, <samp><span class="option">-e</span></samp> and <samp><span class="option">-i</span></samp>
must be graphical characters but digits (graphical characters
are all the characters of the ASCII set for which the standard C function
<code>isgraph</code> returns a non zero value).

   <p>It is not possible to set the decimal point, the thousands separator,
the positive sign, the negative sign, the
prefix for decimal exponent or the
symbol of the imaginary unit in such a way that, for a same file,
two or more of these characters come out to be equal. 
This rule also applies if you miss/omit to explicitly select
a symbol through the appropriate option. 
For instance, the command
&lsquo;<samp><span class="samp">numdiff -d,. </span><var>file1</var> <var>file2</var></samp>&rsquo;
will make <samp><span class="command">numdiff</span></samp> abnormally terminate after printing
the error message:

<pre class="example">     The numeric format specified for the first file is illegal,
     the following symbols should be all different
     while two or more of them are actually equal:
     
     Decimal point = `,'
     Thousands separator = `,'
     Leading positive sign = `+'
     Leading negative sign = `-'
     Prefix for decimal exponent = `e'
     Symbol used to denote the imaginary unit = `i'
</pre>
   <p class="noindent">With the option <samp><span class="option">-d</span></samp> we have told <samp><span class="command">numdiff</span></samp>
that in the first file the decimal point is indicated by the character
<strong>comma</strong>, but at the same time we have not modified the character
in use to separate the groups of thousands, which has remained the
default one, i.e. <strong>comma</strong>, for both files to compare. 
In this way we have implicitly told that in
<var>file1</var> the character <strong>comma</strong> represents both decimal point
and thousands separator. Since this is not reasonable, <samp><span class="command">numdiff</span></samp>
refuses to work. 
To avoid this problem it would be sufficient to
set explicitly the thousands separator
by means of the option <samp><span class="option">-t</span></samp>:
&lsquo;<samp><span class="samp">numdiff -d,. -t., </span><var>file1</var> <var>file2</var></samp>&rsquo;. 
Of course, we assume here that the decimal point
and the thousands separator are represented in <var>file1</var>
by <strong>comma</strong> and <strong>dot</strong> respectively, in
<var>file2</var> by <strong>dot</strong> and <strong>comma</strong>.

   <p>I strongly suggest you, whenever you write a file, to
avoid using the same symbol to mean two different things (like would be using
<strong>comma</strong> for both decimal point and thousands
separator), it is nonsense.

   <p>At last, it is possible (but stupid) to use
as argument for the options <samp><span class="option">-d</span></samp>, <samp><span class="option">-t</span></samp>, <samp><span class="option">-g</span></samp>,
<samp><span class="option">-p</span></samp>, <samp><span class="option">-n</span></samp>, <samp><span class="option">-e</span></samp>, and <samp><span class="option">-i</span></samp>
one of the characters used as delimiters in the files to compare. 
In such a case <samp><span class="command">numdiff</span></samp> does not complain, but you have
to consider that it first uses the set of field delimiters
to split the files into fields and then, when it has to distinguish
between numerical and non-numerical fields, it takes
into account the numeric formats specified for the two files. 
However, it should never happen to specify as argument for one of
the options <samp><span class="option">-d</span></samp>, <samp><span class="option">-t</span></samp>, <samp><span class="option">-g</span></samp>,
<samp><span class="option">-p</span></samp>, <samp><span class="option">-n</span></samp>, <samp><span class="option">-e</span></samp>, and <samp><span class="option">-i</span></samp> a character
which is also used as field delimiter: in writing a file you
should avoid (and people usually avoid it)
to use the same symbol to mean two different things. 
What we have said also explains why the argument
of the option <samp><span class="option">-c</span></samp> should never contain one
or more field delimiters.

   <p><a name="Restriction-of-the-comparison-to-particular-fields"></a>The option <samp><span class="option">-X</span></samp> can be used
to restrict the comparison between files to a certain
group of fields. 
<a name="Use-of-the-option-_002dX"></a>This option requires as argument a range of positive integer values
or eventually just one positive integer number. The argument specifies
the position(s) of the fields that <samp><span class="command">numdiff</span></samp>
has to ignore. 
Remember that the fields of a line are numerated starting
from the left hand of the line
and proceeding towards the right hand.

   <p>The argument passed to <samp><span class="option">-X</span></samp> can start with a prefix,
which must be either &lsquo;<samp><span class="samp">1:</span></samp>&rsquo; or &lsquo;<samp><span class="samp">2:</span></samp>&rsquo;. 
&lsquo;<samp><span class="samp">1:</span></samp>&rsquo; refers to the file passed as first on the command line,
&lsquo;<samp><span class="samp">2:</span></samp>&rsquo; to the file specified as second. 
With the prefix &lsquo;<samp><span class="samp">1:</span></samp>&rsquo; only the fields of the first file
corresponding to the given position(s) are ignored. 
Similarly, if you want to ignore only fields from the
second file you have to use the prefix &lsquo;<samp><span class="samp">2:</span></samp>&rsquo;.

   <p>The option <samp><span class="option">-X</span></samp> can appear more times on the command line,
in which case <samp><span class="command">numdiff</span></samp> will ignore all fields
located in the positions so specified. 
Some examples can clarify the use of ranges and prefixes. 
If the file <samp><span class="file">List1</span></samp> contains the data
<pre class="verbatim">* a  1    1     1     1
* b  2    2     2     2
* c  3    3     3     3
* d  4    4     4     4
* e  5    5     5     5
</pre>

<p class="noindent">and <samp><span class="file">List2</span></samp> the data
<pre class="verbatim">     1    1.1  1.01   A  1.001  1.0001
     2    2.2  2.02   B  2.002  2.0002
     3    3.3  3.03   C  3.003  3.0003
     4    4.4  4.04   D  4.004  4.0004
     5    5.5  5.05   E  5.005  5.0005
</pre>

<p class="noindent">then the output of &lsquo;<samp><span class="samp">numdiff -X 1:1-2 -X 2:4 -X 1:6 -X 2:5-6 List1 List2</span></samp>&rsquo; is
<pre class="example">     ----------------
     ##1       #:4   &lt;== 1
     ##1       #:2   ==&gt; 1.1
     @ Absolute error = 1.0000000000e-1, Relative error = 1.0000000000e-1
     ##1       #:5   &lt;== 1
     ##1       #:3   ==&gt; 1.01
     @ Absolute error = 1.0000000000e-2, Relative error = 1.0000000000e-2
     ----------------
     ##2       #:4   &lt;== 2
     ##2       #:2   ==&gt; 2.2
     @ Absolute error = 2.0000000000e-1, Relative error = 1.0000000000e-1
     ##2       #:5   &lt;== 2
     ##2       #:3   ==&gt; 2.02
     @ Absolute error = 2.0000000000e-2, Relative error = 1.0000000000e-2
     ----------------
     ##3       #:4   &lt;== 3
     ##3       #:2   ==&gt; 3.3
     @ Absolute error = 3.0000000000e-1, Relative error = 1.0000000000e-1
     ##3       #:5   &lt;== 3
     ##3       #:3   ==&gt; 3.03
     @ Absolute error = 3.0000000000e-2, Relative error = 1.0000000000e-2
     ----------------
     ##4       #:4   &lt;== 4
     ##4       #:2   ==&gt; 4.4
     @ Absolute error = 4.0000000000e-1, Relative error = 1.0000000000e-1
     ##4       #:5   &lt;== 4
     ##4       #:3   ==&gt; 4.04
     @ Absolute error = 4.0000000000e-2, Relative error = 1.0000000000e-2
     ----------------
     ##5       #:4   &lt;== 5
     ##5       #:2   ==&gt; 5.5
     @ Absolute error = 5.0000000000e-1, Relative error = 1.0000000000e-1
     ##5       #:5   &lt;== 5
     ##5       #:3   ==&gt; 5.05
     @ Absolute error = 5.0000000000e-2, Relative error = 1.0000000000e-2
     
     +++  File "List1" differs from file "List2"
</pre>
   <p class="noindent">Numdiff cuts off from <samp><span class="file">List1</span></samp>
the fields in the positions 1, 2 and 6
and from <samp><span class="file">List2</span></samp> the fields in the positions
4, 5 and 6. 
In this way it compares the third, fourth and fifth field
of every line of
<samp><span class="file">List1</span></samp> with the first, second and third field respectively
of the corresponding line of <samp><span class="file">List2</span></samp>. 
An equivalent form of the command
&lsquo;<samp><span class="samp">numdiff -X 1:1-2 -X 2:4 -X 1:6 -X 2:5-6 List1 List2</span></samp>&rsquo;
is given by
&lsquo;<samp><span class="samp">numdiff -X 1:1-2 -X 2:4-5 -X 6 List1 List2</span></samp>&rsquo; :
since the sixth field is cut off from both files we can
refer to it without a prefix.

   <p>As you can see, you can specify a range of fields
by using the notation &lsquo;<samp><var>m</var><span class="samp">-</span><var>n</var></samp>&rsquo;,
where <var>m</var> and <var>n</var> are the field numbers
of the first and of the last field in the range. 
It is even possible to use range expressions like
&lsquo;<samp><var>m</var><span class="samp">-</span></samp>&rsquo; or &lsquo;<samp><span class="samp">-</span><var>n</var></samp>&rsquo;. The first
expression corresponds to all fields starting from
the <var>m</var>th one (inclusive) till to the end of line,
the second selects all fields from the first one
till to the <var>n</var>th one (inclusive). 
Therefore the command
&lsquo;<samp><span class="samp">numdiff -X 1:1-2 -X 2:4 -X 1:6 -X 2:5-6 List1 List2</span></samp>&rsquo;
is equivalent to
&lsquo;<samp><span class="samp">numdiff -X 1:-2 -X 2:4 -X 1:6 -X 2:5- List1 List2</span></samp>&rsquo;
or to
&lsquo;<samp><span class="samp">numdiff -X 1:-2 -X 1:6 -X 2:4- List1 List2</span></samp>&rsquo;.

   <p>Mind that the largest field number you can
use while writing a specification for the option <samp><span class="option">-X</span></samp> is
32768.

   <p>If you use the option <samp><span class="option">-X</span></samp> the exit status of <samp><span class="command">numdiff</span></samp>
reflects the outcome of the restricted comparison. 
For instance, the exit status of &lsquo;<samp><span class="samp">numdiff -X 8- </span><var>file1</var> <var>file2</var></samp>&rsquo;
is 1 only if <samp><span class="command">numdiff</span></samp> has found a difference
in the first seven fields of <var>file1</var> and <var>file2</var>. 
If the two files differ only in the fields after the seventh one,
then <samp><span class="command">numdiff</span></samp> ends with a zero exit status.

   <p>Going back to the example with <samp><span class="file">List1</span></samp> and <samp><span class="file">List2</span></samp>,
the output of
&lsquo;<samp><span class="samp">numdiff -X 1:1-2 -X 1:4- -X 2:2- List1 List2</span></samp>&rsquo; is
<pre class="example">     
     +++  Files "List1" and "List2" are equal
</pre>
   <p class="noindent">since every field of <samp><span class="file">List1</span></samp> at position 3 is equal
to the first field in the corresponding line of <samp><span class="file">List2</span></samp>. 
The exit code returned by the program to the shell
is zero.

   <p>The options <samp><span class="option">-z</span></samp>, <samp><span class="option">-Z</span></samp>, <samp><span class="option">-m</span></samp>, <samp><span class="option">-H</span></samp>,
<samp><span class="option">-f</span></samp>, and <samp><span class="option">-T</span></samp> influence the action of the filter
and their use is then described later, <a href="#Filtering">Filtering</a>. 
Care that <samp><span class="option">-z</span></samp> and <samp><span class="option">-Z</span></samp> need both an argument in the same
form required by <samp><span class="option">-X</span></samp>.

   <p>Since version 5 Numdiff accepts also long options to conform to
the GNU standards. Now it is then possible, e.g., to use
&lsquo;<samp><span class="samp">--separators='\n\t %'</span></samp>&rsquo; or &lsquo;<samp><span class="samp">--separators '\n\t %'</span></samp>&rsquo;
instead of using &lsquo;<samp><span class="samp">-s '\n\t %'</span></samp>&rsquo;.

   <p>The long options, which start all with two dashes,
are listed at the beginning of this chapter, each one near to
the corresponding short option.

   <p>The argument of a long option may or may not preceded
by the <tt>=</tt> sign. The only exceptions are the options
<samp><span class="option">--test-filter</span></samp> and <samp><span class="option">--overview</span></samp>,
for which the presence of the <tt>=</tt>
before the argument is mandatory. 
Then &lsquo;<samp><span class="samp">--test-filter=60</span></samp>&rsquo; is correct while
&lsquo;<samp><span class="samp">--test-filter 60</span></samp>&rsquo; is not accepted.

<div class="node">
<a name="ndselect"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-ndselect">Invoking ndselect</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-numdiff">Invoking numdiff</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Selecting lines and fields for the comparison</h2>

<p><a name="index-ndselect-_0028introduction-to-its-use_0029-25"></a><a name="index-Tools-26"></a>
Together with the version 5.x of Numdiff is shipped the program <samp><span class="command">ndselect</span></samp>. 
Originally, I decided to create this utility in order to deal with a situation
that comes out often in Numerical Analysis. Here I present a very simple example of
such a situation. Let us suppose that file <samp><span class="file">list1</span></samp>
contains the values of the square root, rounded to the 20th decimal digit,
for all integer numbers between 12 and 24:
<pre class="verbatim">12       3.46410161513775458705
13       3.60555127546398929312
14       3.74165738677394138558
15       3.87298334620741688518
16       4
17       4.12310562561766054982
18       4.24264068711928514641
19       4.35889894354067355224
20       4.47213595499957939282
21       4.58257569495584000659
22       4.69041575982342955457
23       4.7958315233127195416
24       4.89897948556635619639
</pre>

<p class="noindent">and <var>list2</var> contains <em>suitable</em> approximations of the square root
only for the numbers between 12 and 21 which are multiple of 3:

<pre class="verbatim">12       3.46410162002945508100
15       3.87298387096774193548
18       4.24264705882352941176
21       4.58260869565217391304
</pre>

<p class="noindent">These approximations could have been obtained
by using the famous Heron's algorithm, which, given an approximation
<code>a</code> for the square root of a number <code>x</code>, computes a better
approximation by the formula <code>a := 0.5 * (x/a + a)</code>. 
What we want now is to understand by using <samp><span class="command">numdiff</span></samp>
how good the approximations
contained in file <var>list2</var> are. Unfortunately,
we cannot execute directly the command &lsquo;<samp><span class="samp">numdiff list1 list2</span></samp>&rsquo;,
since in this way we would compare the approximations provided for
the square roots of 15, 18, and 21 with the square roots of
13, 14, and 15 respectively. To make the comparison in the right way,
one could open <samp><span class="file">list1</span></samp> in a text editor and remove from this file
all lines but the ones related to the numbers 12, 15, 18, and 21. 
This approach is practicable since we have to remove only a few lines:
one can easily figure out how boring and inefficient would be to manually
remove hundreds or thousands of lines from a file.

   <p>An expert GNU user would suggest that it is
possible to automate this removal by using the well known utilities
<samp><span class="command">head</span></samp> and <samp><span class="command">sed</span></samp>, in this particular case
&lsquo;<samp><span class="samp">head -n 10 list1 | sed -n -e '1~3 p' &gt; List1</span></samp>&rsquo;. 
A quick explanation for the ones who do not know how to use <samp><span class="command">head</span></samp>
and <samp><span class="command">sed</span></samp>: the previous command extracts from
<samp><span class="file">list1</span></samp> the first 10 lines, namely the lines containing the square roots
of the numbers from 12 to 21, then picks every third line starting
from the first one to select only the lines related to 12, 15, 18, and 21. 
Finally, these lines are printed
on the file <samp><span class="file">List1</span></samp>, which then looks like:
<pre class="verbatim">12       3.46410161513775458705
15       3.87298334620741688518
18       4.24264068711928514641
21       4.58257569495584000659
</pre>

   <p>Once obtained <samp><span class="file">List1</span></samp>, we can perform the comparison between
the values we are interested in by means of &lsquo;<samp><span class="samp">numdiff List1 list2</span></samp>&rsquo; . 
Unfortunately, this trick only works if you have installed the GNU version
of <samp><span class="command">sed</span></samp>, which, as far as I know, is the only one to
provide the extension <var>first~step</var> to specify line addresses. 
That is way I decided to implement <samp><span class="command">ndselect</span></samp>, which allows to
obtain the same result as above with the simpler command
&lsquo;<samp><span class="samp">ndselect -b 1 -e 10 -s 3 list1 &gt; List1</span></samp>&rsquo;

   <p>The meaning of the arguments passed to the options <samp><span class="option">-b</span></samp>,
<samp><span class="option">-e</span></samp>, and <samp><span class="option">-s</span></samp> is the following: we tell
<samp><span class="command">ndselect</span></samp> to print every third line of file <samp><span class="file">list1</span></samp>
(the option <samp><span class="option">-s</span></samp> specifies the step)
starting from the first one (the option <samp><span class="option">-b</span></samp> specifies the beginning)
and ending within the tenth one possibly inclusive
(the option <samp><span class="option">-e</span></samp> specifies the end). 
Because of the presence of the redirection operator <code>&gt;</code>,
the previous command sends to the file <samp><span class="file">List1</span></samp>
what <samp><span class="command">ndselect</span></samp> would print on the screen (standard output).

   <p>Since version 5.6 <samp><span class="command">ndselect</span></samp> can also be used to select
particular fields of a file. 
Instead of printing all fields of every line, you may want to print
indeed only the fields at particular positions. 
To do this you can employ the option <samp><span class="option">-F</span></samp> to
indicate the position of the first field to print,
the option <samp><span class="option">-L</span></samp> to indicate the position of the last field that
can be printed, the option <samp><span class="option">-I</span></samp> to set the increment
when selecting the fields. In addition, the option <samp><span class="option">-S</span></samp>
can be used to specify a set of field delimiters different from the
default one (which consists of <strong>blank</strong>, <strong>tab</strong> and
<strong>newline</strong>). As for <samp><span class="command">numdiff</span></samp>, the field
delimiters are used to split the input lines into fields.

   <p>The option <samp><span class="option">-S</span></samp> of <samp><span class="command">ndselect</span></samp>
recognizes and accepts the same escape sequences of
<samp><span class="command">numdiff</span></samp> options <samp><span class="option">-s</span></samp>, <samp><span class="option">-D</span></samp>, and <samp><span class="option">-c</span></samp>.

   <p>As example consider the selection of the even fields between
the second and the sixth one inclusive from the file
<samp><span class="file">many_many_columns</span></samp>, whose contents are shown here:
<pre class="verbatim">A |   I | 1.1 |   1.08  |   1.01  |  0.1  |   11.011    |    -1.0e-1  
B |  II | 2.2 |   2.16  |   4.04  |  0.4  |   24.024    |    -1.0e-2  
C | III | 3.3 |   3.24  |   9.09  |  0.9  |   39.039    |    -1.0e-3  
D |  IV | 4.4 |   4.32  |  16.16  |  1.6  |  416.039    |    -1.0e-4  
E |   V | 5.5 |   5.40  |  25.25  |  2.5  |  525.416    |    -1.0e-5  
F |   # |  #  |    #    |    #    |   #   |     #       |      #
</pre>

<p class="noindent">This selection can be accomplished by means of the command
&lsquo;<samp><span class="samp">ndselect -S '| \t\n' -F 2 -L 6 -I 2 many_many_columns</span></samp>&rsquo;, whose
output shows only the selected fields:
<pre class="example">     I | 1.08  |   0.1
     II | 2.16  |   0.4
     III | 3.24  |   0.9
     IV | 4.32  |  1.6
     V | 5.40  |  2.5
     # |  #    |    #
</pre>
   <p class="noindent">Of course, you can also select particular fields of particular lines,
as shown by the output of the command
&lsquo;<samp><span class="samp">ndselect -S '| \t\n' -b 1 -e 5 -s 3 -F 2 -L 6 -I 2 many_many_columns</span></samp>&rsquo;:
<pre class="example">     I | 1.08  |   0.1
     IV | 4.32  |  1.6
</pre>
   <p>By default, <samp><span class="command">ndselect</span></samp> reuses the delimiters found in the input
lines while writing the selected fields to the standard output. 
You can specify a custom separator by means of the option <samp><span class="option">-O</span></samp>. 
This one recognizes and accepts the same escape sequences of
<samp><span class="command">numdiff</span></samp> options <samp><span class="option">-s</span></samp>, <samp><span class="option">-D</span></samp>, and <samp><span class="option">-c</span></samp>. 
For example,
&lsquo;<samp><span class="samp">ndselect -S '| \t\n' -b 1 -e 5 -s 3 -F 2 -L 6 -I 2 -O '\t\t' many_many_columns</span></samp>&rsquo;
puts two horizontal tabulations after every printed field:
<pre class="verbatim">I		1.08		0.1		
IV		4.32		1.6		
</pre>

   <p>Even if the implementation of a filter in <samp><span class="command">numdiff</span></samp> and the addition
of the option <samp><span class="option">-X</span></samp> have made <samp><span class="command">ndselect</span></samp> much less useful than
in the past, this tool can still be used to handle some special cases. 
In addition, it can be used as a filter for other programs than <samp><span class="command">numdiff</span></samp>. 
The complete synopsis of <samp><span class="command">ndselect</span></samp> can be found in the
next chapter.

<div class="node">
<a name="Invoking-ndselect"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Filtering">Filtering</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ndselect">ndselect</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 Invoking ndselect</h2>

<p><a name="index-Invoking-ndselect-27"></a><a name="index-Options_002c-command-line-_0028ndselect_0029-28"></a><a name="index-Command-line-options-for-ndselect-29"></a><a name="index-Synopsis-_0028ndselect_0029-30"></a><a name="index-Diagnostics-_0028ndselect_0029-31"></a>
<strong>SYNOPSIS</strong>

<pre class="example">        ndselect -h|--help|-v|--version
</pre>
   <p>or
<pre class="example">        ndselect [-b <var>N</var>][-e <var>N</var>][-s <var>N</var>][-F <var>N</var>][-L <var>N</var>][-I <var>N</var>][-S <var>IFS</var>][-D <var>DELIMS</var>]
        [-O <var>OSEP</var>][-x][-l <var>PATH</var>][-o <var>PATH</var>][<var>FILE</var>]
</pre>
   <p class="noindent">where <var>FILE</var> is the name of the file to read from.

   <p>In the first case <samp><span class="command">ndselect</span></samp> prints a
short help or/and version number, Copyright, License notice
and NO-Warranty disclaimer. 
In the second case <samp><span class="command">ndselect</span></samp> prints on the standard output
a subset of lines and fields from <var>FILE</var>. 
The complete path of <var>FILE</var> should be given,
a directory name is not accepted. 
If no input file is specified, the program reads
from the standard input.

<p class="noindent"><strong>OPTIONS</strong>

     <dl>
<dt><samp><span class="option">-b, --beginning, --start=</span><var>N</var></samp><dd>Set to <var>N</var> the number of the first line to print
(The default behavior is to start with line number 1)

     <br><dt><samp><span class="option">-e, --end=</span><var>N</var></samp><dd>Set to <var>N</var> the number of the last line that can be printed
(The default behavior is to arrive till to the end of the file)

     <br><dt><samp><span class="option">-s, --step=</span><var>N</var></samp><dd>Set to <var>N</var> the increment to use when selecting the lines to print
(The default value for the increment is 1)

     <br><dt><samp><span class="option">-F, --first-field=</span><var>N</var></samp><dd>Set to <var>N</var> the number of the first field to print
(The default behavior is to start with field number 1)

     <br><dt><samp><span class="option">-L, --last-field=</span><var>N</var></samp><dd>Set to <var>N</var> the number of the last field that can be printed
(The default behavior is to arrive till to the end of every line)

     <br><dt><samp><span class="option">-I, --increment=</span><var>N</var></samp><dd>Set to <var>N</var> the increment to use when selecting the fields to print
(The default value for the increment is 1)

     <br><dt><samp><span class="option">-S, --separators=</span><var>IFS</var></samp><dd>Specify the set of characters to use as delimiters
while splitting the input lines into fields
(The default set of characters is space, tab and newline)

     <br><dt><samp><span class="option">-D, --delimiters=</span><var>DELIMS</var></samp><dd>Specify the set of strings to use as delimiters
while splitting the input lines into fields
(The default set of delimiters is space, tab and newline)

     <br><dt><samp><span class="option">-O, --output-separator=</span><var>OSEP</var></samp><dd>Specify the string to use as separator
while writing the selected fields to the standard output
(The default behavior consists in reusing the delimiters found in the input lines)

     <br><dt><samp><span class="option">-x, --omit-empty-lines</span></samp><dd>Do not print empty lines

     <br><dt><samp><span class="option">-l, --warnings-to=</span><var>PATH</var></samp><dd>Redirect warning and error messages from stderr
to the indicated file

     <br><dt><samp><span class="option">-o, --output=</span><var>PATH</var></samp><dd>Redirect output from stdout to the indicated file

     <br><dt><samp><span class="option">-h, --help</span></samp><dd>Show this help message

     <br><dt><samp><span class="option">-v, --version</span></samp><dd>Show version number, Copyright, Distribution Terms and NO-Warranty
</dl>

<p class="noindent">Passing 0 as argument to the option <samp><span class="option">-L</span></samp> or to <samp><span class="option">-e</span></samp>
is equivalent to omit this option and leave enabled the default behavior
(which consists in scanning till to the end of the line and of
the file, respectively).

<p class="noindent"><strong>DIAGNOSTICS</strong>

   <p>The exit status is 0 in case of normal termination,
-1 (255) in case of error.

<p class="noindent">As <samp><span class="command">numdiff</span></samp> does, since version 5 also <samp><span class="command">ndselect</span></samp>
accepts long options. Thus, instead of &lsquo;<samp><span class="samp">ndselect -b 1 -e 10 -s 3 list1 &gt; List1</span></samp>&rsquo;
you can write &lsquo;<samp><span class="samp">ndselect --start=1 --end=10 --step=3 list1 &gt; List1</span></samp>&rsquo;.

   <p>The usage of the option <samp><span class="option">-D</span></samp> is the same as for <samp><span class="command">numdiff</span></samp>. 
The option <samp><span class="option">-S</span></samp> corresponds to the option <samp><span class="option">-s</span></samp> of <samp><span class="command">numdiff</span></samp>.

<div class="node">
<a name="Filtering"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Warnings">Warnings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-ndselect">Invoking ndselect</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 Using the filter of numdiff</h2>

<p><a name="index-Filter-32"></a>
Since version 5 it is possible
to activate a filter when calling <samp><span class="command">numdiff</span></samp>,
so that the program performs automatically the
comparison in the desired way. 
Recalling the example of chapter 6,
if you run the command <samp><span class="command">numdiff -z 2- -V list1 list2</span></samp>
you obtain the following result:
<pre class="example">     
     ----------------
     ##1       &lt;== 12       3.46410161513775458705
     ##1       ==&gt; 12       3.46410162002945508100
     
     ##1       #:2   &lt;== 3.46410161513775458705
     ##1       #:2   ==&gt; 3.46410162002945508100
      Absolute error = 4.8917004940e-9, Relative error = 1.4121122985e-9
     ----------------
     ##2       &lt;== 13       3.60555127546398929312
               ==&gt;
     
     ----------------
     ##3       &lt;== 14       3.74165738677394138558
               ==&gt;
     
     ----------------
     ##4       &lt;== 15       3.87298334620741688518
     ##2       ==&gt; 15       3.87298387096774193548
     
     ##4       #:2   &lt;== 3.87298334620741688518
     ##2       #:2   ==&gt; 3.87298387096774193548
      Absolute error = 5.2476032505e-7, Relative error = 1.3549253331e-7
     ----------------
     ##5       &lt;== 16       4
               ==&gt;
     
     ----------------
     ##6       &lt;== 17       4.12310562561766054982
               ==&gt;
     
     ----------------
     ##7       &lt;== 18       4.24264068711928514641
     ##3       ==&gt; 18       4.24264705882352941176
     
     ##7       #:2   &lt;== 4.24264068711928514641
     ##3       #:2   ==&gt; 4.24264705882352941176
      Absolute error = 6.3717042443e-6, Relative error = 1.5018250929e-6
     ----------------
     ##8       &lt;== 19       4.35889894354067355224
               ==&gt;
     
     ----------------
     ##9       &lt;== 20       4.47213595499957939282
               ==&gt;
     
     ----------------
     ##10      &lt;== 21       4.58257569495584000659
     ##4       ==&gt; 21       4.58260869565217391304
     
     ##10      #:2   &lt;== 4.58257569495584000659
     ##4       #:2   ==&gt; 4.58260869565217391304
      Absolute error = 3.3000696334e-5, Relative error = 7.2013423303e-6
     ----------------
     ##11      &lt;== 22       4.69041575982342955457
               ==&gt;
     
     ----------------
     ##12      &lt;== 23       4.7958315233127195416
               ==&gt;
     
     ----------------
     ##13      &lt;== 24       4.89897948556635619639
               ==&gt;
     
     
     +++  File "list1" differs from file "list2"
</pre>
   <p>Numdiff has recognized that the lines of <samp><span class="file">list1</span></samp>
with the square roots for the numbers
13, 14, 16, 17, 19, 20, 22, 23 and 24
have been deleted from <samp><span class="file">list2</span></samp>. 
The numerical comparison has been done
by likening each line of <samp><span class="file">list2</span></samp>
to the line of <samp><span class="file">list1</span></samp> which displays
the square root for the same integer value. 
The output obtained running
the filter of Numdiff by <samp><span class="command">numdiff -f -z 2- list1 list2</span></samp>
confirms this:
<pre class="example">     12       3.46410161513775458705         12       3.46410162002945508100
     13       3.60555127546398929312      &lt;
     14       3.74165738677394138558      &lt;
     15       3.87298334620741688518         15       3.87298387096774193548
     16       4                           &lt;
     17       4.12310562561766054982      &lt;
     18       4.24264068711928514641         18       4.24264705882352941176
     19       4.35889894354067355224      &lt;
     20       4.47213595499957939282      &lt;
     21       4.58257569495584000659         21       4.58260869565217391304
     22       4.69041575982342955457      &lt;
     23       4.7958315233127195416       &lt;
     24       4.89897948556635619639      &lt;
     
     
     +++  File "list1" differs from file "list2"
</pre>
   <p>If you compare the command
<samp><span class="command">numdiff -z 2- -V list1 list2</span></samp> with the one
used for the files <samp><span class="file">bill1</span></samp> and
<samp><span class="file">bill2</span></samp>, see <a href="#command">command</a>,  you surely notice that the filter
has been invoked in different ways, first
with <samp><span class="option">-z @</span></samp> and then with <samp><span class="option">-z 2-</span></samp>.

   <p>The <i>synchronization</i> procedure used by the filter
is based on <i>blurring</i> and byte-by-byte comparison. 
The options <samp><span class="option">-z</span></samp> and <samp><span class="option">-Z</span></samp> are used
to select which fields from which file have to
be blurred. They take both an argument in the
same form requested by <samp><span class="option">-X</span></samp>, see <a href="#Use-of-the-option-_002dX">Use of the option -X</a>,
but accept additionally the special value &lsquo;<samp><span class="samp">@</span></samp>&rsquo;
as abbreviation for the range of fields &lsquo;<samp><span class="samp">1-</span></samp>&rsquo;. 
Then the specifications &lsquo;<samp><span class="samp">1:@</span></samp>&rsquo;, &lsquo;<samp><span class="samp">2:@</span></samp>&rsquo; and &lsquo;<samp><span class="samp">@</span></samp>&rsquo;
are used to mean all fields of the first file,
of the second one or of both, respectively.

   <p>Employing <samp><span class="option">-z</span></samp> and <samp><span class="option">-Z</span></samp> in the right way
is extremely important to let the filter work as desired. 
For instance, <samp><span class="command">numdiff -f -z @ list1 list2</span></samp>
matches the lines of <samp><span class="file">list1</span></samp> and <samp><span class="file">list2</span></samp>
in the same wrong way
<pre class="example">     12       3.46410161513775458705         12       3.46410162002945508100
     13       3.60555127546398929312         15       3.87298387096774193548
     14       3.74165738677394138558         18       4.24264705882352941176
     15       3.87298334620741688518         21       4.58260869565217391304
     16       4                           &lt;
     17       4.12310562561766054982      &lt;
     18       4.24264068711928514641      &lt;
     19       4.35889894354067355224      &lt;
     20       4.47213595499957939282      &lt;
     21       4.58257569495584000659      &lt;
     22       4.69041575982342955457      &lt;
     23       4.7958315233127195416       &lt;
     24       4.89897948556635619639      &lt;
     
     
     +++  File "list1" differs from file "list2"
</pre>
   <p class="noindent">as Numdiff would do without employing the filter.

   <p>It is essential then to understand what <i>blurring a field</i> means
and how the filter uses blurring to match the lines
of the files to compare.

   <p>After reading the files the filter removes from each of them
(from their images in the memory, actually)
all the fields selected by the option
<samp><span class="option">-X</span></samp>, then it replaces each of the fields that
have to be blurred by a special character. 
This special character is the same for both files
and it is so chosen that it cannot appear in
the text. Blurring a field means to replace
it by this sort of <i>place card</i>.

   <p>After doing this, the filter converts all remaining numerical
fields to a standard format and compares
the files byte by byte neglecting the field
delimiters. 
This comparison is just used to establish which
lines of the first file are not present in the second,
which lines of the second file are missing in the first one
and how to match the remaining lines to create
a one-to-one correspondence.

   <p>Only at this point <samp><span class="command">numdiff</span></samp> inspects
each couple of corresponding lines, splits the
two lines into the constituent fields, and
neglecting those ones eventually specified
through the option <samp><span class="option">-X</span></samp> compares corresponding
fields as it is supposed to do, performing
a numerical comparison whenever the fields
are both legal numerical values.

   <p>Blurring the right fields is essential to
match the lines from the two files appropriately before
doing any numerical comparison. 
Without blurring, the numerical fields
could prevent <samp><span class="command">numdiff</span></samp> from an
appropriate matching of the lines,
in case some of these are present
in only one file, by creating confusion
with their (maybe small) numeric differences.

   <p>Blurring can be of two types, conditional
or unconditional. 
The blurring is conditional if it has
to be performed only for fields which turn out
to be legal numerical values. 
The arguments of the option <samp><span class="option">-z</span></samp> indicate which
fields of which file have to be blurred <strong>under the condition that
they are recognized as numeric fields</strong>. Non-numeric fields
are left by <samp><span class="option">-z</span></samp> untouched (no blurring occurs for them). 
Then &lsquo;<samp><span class="samp">-z 1:5-7</span></samp>&rsquo; makes the filter blur the 5th, 6th and 7th field of each
line of the first file whenever they are recognized as numeric.

   <p>By the option <samp><span class="option">-Z</span></samp> you can specify which
fields have to be unconditionally blurred, i.e. 
independently of their type, numeric or not. 
For example, &lsquo;<samp><span class="samp">-Z 2:3-4</span></samp>&rsquo; activates the blurring of the 3th and 4th field of each
line of the second file.

   <p>Going back to the comparison of the files <samp><span class="file">list1</span></samp> and <samp><span class="file">list2</span></samp>,
the option &lsquo;<samp><span class="samp">-z 2-</span></samp>&rsquo; of the command &lsquo;<samp><span class="samp">numdiff -z 2- -V list1 list2</span></samp>&rsquo;
makes the filter transform the (memory copies of the)
two files as
<pre class="example">     12       &bull;
     13       &bull;
     14       &bull;
     15       &bull;
     16       &bull;
     17       &bull;
     18       &bull;
     19       &bull;
     20       &bull;
     21       &bull;
     22       &bull;
     23       &bull;
     24       &bull;
</pre>
   <p class="noindent">and

<pre class="example">     12       &bull;
     15       &bull;
     18       &bull;
     21       &bull;
</pre>
   <p class="noindent">respectively. Here &bull; denotes the special
symbol used by the filter in the blurring procedure, even if this
symbol is not actually a bullet. 
Since in this example space, tab and newline are
used as field delimiters, the byte-by-byte comparison between
the transformed files produces the same result displayed by the command
&lsquo;<samp><span class="samp">sdiff -W</span></samp>&rsquo; when applied to them:

<pre class="example">     12       &bull;                        12       &bull;
     13       &bull;                     &lt;
     14       &bull;                     &lt;
     15       &bull;                        15       &bull;
     16       &bull;                     &lt;
     17       &bull;                     &lt;
     18       &bull;                        18       &bull;
     19       &bull;                     &lt;
     20       &bull;                     &lt;
     21       &bull;                        21       &bull;
     22       &bull;                     &lt;
     23       &bull;                     &lt;
     24       &bull;                     &lt;
</pre>
   <p class="noindent">If you put the blurred fields back you obtain exactly the output
of &lsquo;<samp><span class="samp">numdiff -f -z 2- list1 list2</span></samp>&rsquo;:

<pre class="example">     12       3.46410161513775458705           12       3.46410162002945508100
     13       3.60555127546398929312        &lt;
     14       3.74165738677394138558        &lt;
     15       3.87298334620741688518           15       3.87298387096774193548
     16       4                             &lt;
     17       4.12310562561766054982        &lt;
     18       4.24264068711928514641           18       4.24264705882352941176
     19       4.35889894354067355224        &lt;
     20       4.47213595499957939282        &lt;
     21       4.58257569495584000659           21       4.58260869565217391304
     22       4.69041575982342955457        &lt;
     23       4.7958315233127195416         &lt;
     24       4.89897948556635619639        &lt;
     
     
     +++  File "list1" differs from file "list2"
     
</pre>
   <p class="noindent">Since the second field is a numerical value in all the lines
of <samp><span class="file">list1</span></samp> and <samp><span class="file">list2</span></samp>, to use the option <samp><span class="option">-Z</span></samp>
instead of <samp><span class="option">-z</span></samp> makes no difference in this case. 
The output of &lsquo;<samp><span class="samp">numdiff -f -Z 2- list1 list2</span></samp>&rsquo; is then the
same of &lsquo;<samp><span class="samp">numdiff -f -z 2- list1 list2</span></samp>&rsquo;.

   <p>After this explanation you can also understand why
&lsquo;<samp><span class="samp">numdiff -f -z @ list1 list2</span></samp>&rsquo; gives a wrong result. 
Since also the first field is always a numerical value,
the option &lsquo;<samp><span class="samp">-z @</span></samp>&rsquo; makes the filter transform the two
given files as
<pre class="example">     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
</pre>
   <p class="noindent">and

<pre class="example">     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
     &bull;       &bull;
</pre>
   <p class="noindent">respectively, so that it is not anymore possible
to match the lines in a reasonable way.

   <p>We consider now a typical situation
where it is better to use <samp><span class="option">-Z</span></samp> in place of <samp><span class="option">-z</span></samp>. 
If the file <samp><span class="file">Table1</span></samp> contains
<pre class="verbatim">-6 	 2.449490
-5 	 2.236068
-4 	 2.000000
-3 	 1.732051
-2 	 1.414214
-1       1.000000
0        0
- - - - - - - - -
1 	 1.000000
2 	 1.414214
3 	 1.732051
4 	 2.000000
- - - - - - - - -
5 	 2.236068
6 	 2.449490
7 	 2.645751
- - - - - - - - -
8 	 2.828427
9 	 3.000000
10 	 3.162278
11 	 3.316625
12 	 3.464102
- - - - - - - - -
- - - - - - - - -
13 	 3.605551
14 	 3.741657
</pre>

<p class="noindent">and <samp><span class="file">Table2</span></samp> contains

<pre class="verbatim">-6       Not_defined
-4       Not_defined
-2       Not_defined
 0       0.000000
 2 	 1.414216
 4 	 2.000000
 6 	 2.449494
 8 	 2.828469
 10 	 3.162278
 12 	 3.464102
 14 	 3.741658
********************END
</pre>

<p class="noindent">then the output of &lsquo;<samp><span class="samp">numdiff -z 1:2 -Z 2:2 -f Table1 Table2</span></samp>&rsquo; is
<pre class="example">     -6       2.449490               -6       Not_defined
     -5       2.236068            &lt;
     -4       2.000000               -4       Not_defined
     -3       1.732051            &lt;
     -2       1.414214               -2       Not_defined
     -1       1.000000            &lt;
     0        0                       0       0.000000
     - - - - - - - - -            &lt;
     1        1.000000            &lt;
     2        1.414214                2       1.414216
     3        1.732051            &lt;
     4        2.000000                4       2.000000
     - - - - - - - - -            &lt;
     5        2.236068            &lt;
     6        2.449490                6       2.449494
     7        2.645751            &lt;
     - - - - - - - - -            &lt;
     8        2.828427                8       2.828469
     9        3.000000            &lt;
     10       3.162278                10      3.162278
     11       3.316625            &lt;
     12       3.464102                12      3.464102
     - - - - - - - - -            &lt;
     - - - - - - - - -            &lt;
     13       3.605551            &lt;
     14       3.741657                14      3.741658
                                  &gt;  ********************END
     
     
     +++  File "Table1" differs from file "Table2"
</pre>
   <p class="noindent">which is exactly what is expected. 
On the other hand the command &lsquo;<samp><span class="samp">numdiff -z 2 -f Table1 Table2</span></samp>&rsquo; displays
<pre class="example">     -6       2.449490            |  -6       Not_defined
     -5       2.236068            |  -4       Not_defined
     -4       2.000000            |  -2       Not_defined
     -3       1.732051            &lt;
     -2       1.414214            &lt;
     -1       1.000000            &lt;
     0        0                       0       0.000000
     - - - - - - - - -            &lt;
     1        1.000000            &lt;
     2        1.414214                2       1.414216
     3        1.732051            &lt;
     4        2.000000                4       2.000000
     - - - - - - - - -            &lt;
     5        2.236068            &lt;
     6        2.449490                6       2.449494
     7        2.645751            &lt;
     - - - - - - - - -            &lt;
     8        2.828427                8       2.828469
     9        3.000000            &lt;
     10       3.162278                10      3.162278
     11       3.316625            &lt;
     12       3.464102                12      3.464102
     - - - - - - - - -            &lt;
     - - - - - - - - -            &lt;
     13       3.605551            &lt;
     14       3.741657                14      3.741658
                                  &gt;  ********************END
     
     
     +++  File "Table1" differs from file "Table2"
</pre>
   <p class="noindent">which is partially wrong.

   <p>Notice that in <samp><span class="file">Table1</span></samp> you find (truncated to the sixth decimal digit)
the square roots of the absolute values of the integer numbers
between -6 and 20, plus some randomly added lines. 
The file <samp><span class="file">Table2</span></samp> contains
some approximations (obtained by Newton's method)
for the square roots of the even numbers between
-6 and 20. Since the (real) square root is not defined for
negative numbers, the values corresponding to -6, -4 and -2
are replaced by <tt>Not_defined</tt>.

   <p>Since <tt>Not_defined</tt> is not a numeric value,
during the execution of the last command the filter
transforms <samp><span class="file">Table1</span></samp> in this way
<pre class="example">     -6       &bull;
     -5       &bull;
     -4       &bull;
     -3       &bull;
     -2       &bull;
     -1       &bull;
     0        &bull;
     - - - - - - - - -
     1        &bull;
     2        &bull;
     3        &bull;
     4        &bull;
     - - - - - - - - -
     5        &bull;
     6        &bull;
     7        &bull;
     - - - - - - - - -
     8        &bull;
     9        &bull;
     10       &bull;
     11       &bull;
     12       &bull;
     - - - - - - - - -
     - - - - - - - - -
     13       &bull;
     14       &bull;
</pre>
   <p class="noindent">and <samp><span class="file">Table2</span></samp> in this other way

<pre class="example">     -6       Not_defined
     -4       Not_defined
     -2       Not_defined
      0       &bull;
      2       &bull;
      4       &bull;
      6       &bull;
      8       &bull;
      10      &bull;
      12      &bull;
      14      &bull;
     ********************END
</pre>
   <p class="noindent">Unfortunately the first three lines are enough to
confuse the synchronization procedure, which is based on
a byte-by-byte comparison with exclusion of the field
delimiters, as we explained before.

   <p>You can check that this is definitely the case by
looking at the output of the command
&lsquo;<samp><span class="samp">sdiff -W</span></samp>&rsquo; on the transformed files,
which is
<pre class="example">     -6       &bull;           |  -6       Not_defined
     -5       &bull;           |  -4       Not_defined
     -4       &bull;           |  -2       Not_defined
     -3       &bull;           &lt;
     -2       &bull;           &lt;
     -1       &bull;           &lt;
     0        &bull;               0       &bull;
     - - - - - - - - -    &lt;
     1        &bull;           &lt;
     2        &bull;               2       &bull;
     3        &bull;           &lt;
     4        &bull;               4       &bull;
     - - - - - - - - -    &lt;
     5        &bull;           &lt;
     6        &bull;               6       &bull;
     7        &bull;           &lt;
     - - - - - - - - -    &lt;
     8        &bull;               8       &bull;
     9        &bull;           &lt;
     10       &bull;               10      &bull;
     11       &bull;           &lt;
     12       &bull;               12      &bull;
     - - - - - - - - -    &lt;
     - - - - - - - - -    &lt;
     13       &bull;           &lt;
     14       &bull;               14      &bull;
                          &gt;  ********************END
</pre>
   <p>If we give the command &lsquo;<samp><span class="samp">numdiff -z 1:2 -Z 2:2 -f Table1 Table2</span></samp>&rsquo;
instead of &lsquo;<samp><span class="samp">numdiff -z 2 -f Table1 Table2</span></samp>&rsquo;,
the second field of the lines of <samp><span class="file">Table2</span></samp> is always
blurred. The filter transforms then
<samp><span class="file">Table2</span></samp> into
<pre class="example">     -6       &bull;
     -4       &bull;
     -2       &bull;
      0       &bull;
      2       &bull;
      4       &bull;
      6       &bull;
      8       &bull;
      10      &bull;
      12      &bull;
      14      &bull;
     ********************END
</pre>
   <p class="noindent">and <i>re-synchronizes</i> the files <samp><span class="file">Table1</span></samp> and <samp><span class="file">Table2</span></samp>
in the right way.

   <p>Using the unconditional blurring is suggested in all cases
when a certain field, which you want to include
in the comparison (use <samp><span class="option">-X</span></samp> to completely
neglect one or more fields), is of numeric type
in almost all lines of (one of) the given
files. This can be the case e.g. when in some
lines the content of the field is given by
a special numeric value, like <tt>Infinity</tt>, <tt>Inf</tt>,
<tt>+Inf</tt> or <tt>-Inf</tt>,
or by <tt>NaN</tt>, abbreviation for <i>Not a Number</i>.

   <p>Concerning the numeric fields which are not blurred,
one has to remark that the filter is not confused by differences in the
numeric format. Before the byte-by-byte comparison,
numeric values are converted indeed to a standard
format. To offer an example of this,
let us suppose that <samp><span class="file">short1</span></samp> contains a list
of numbers with their logarithms
<pre class="verbatim">0.001          -3
0.01           -2
0.1            -1
1               0
1000            3
1000000         6
1000000000      9
</pre>

<p class="noindent">and <samp><span class="file">short2</span></samp> the same list of numbers and logarithms, but
with differences in the numeric format:
<pre class="verbatim">******************
0.0010000       -3
.0100           -2
0000.10         -1
1.               0
1,000.000        3
1,000,000.       6
1,000,000,000    9
</pre>

<p class="noindent">Then &lsquo;<samp><span class="samp">numdiff -f -z 2- short1 short2</span></samp>&rsquo; displays
<pre class="example">                                  &gt;  ******************
     0.001          -3               0.0010000       -3
     0.01           -2               .0100           -2
     0.1            -1               0000.10         -1
     1               0               1.               0
     1000            3               1,000.000        3
     1000000         6               1,000,000.       6
     1000000000      9               1,000,000,000    9
     
     
     +++  File "short1" differs from file "short2"
</pre>
   <p class="noindent">showing that the filter has matched
the lines in the right way.

   <p>The filter can even handle the case
when the same numerical value is written in
decimal notation in one file and in scientific
notation in the other one. 
If the files <samp><span class="file">decimal</span></samp> and <samp><span class="file">scientific</span></samp> contain
<pre class="verbatim">.001           -3
.01            -2
.1             -1
* * * * * * * * *
1               0
1000            3
1000000         6
1000000000      9
</pre>

<p class="noindent">and
<pre class="verbatim">*****************
1.0e-3         -3
1.0e-2         -2
1.0e-1         -1
1.0e0           0
1.0e3           3
1.0e6           6
1.0e9           9
*****************
</pre>

<p class="noindent">respectively, then &lsquo;<samp><span class="samp">numdiff -f -z 2- decimal scientific</span></samp>&rsquo;
shows
<pre class="example">                                  &gt;  *****************
     .001           -3               1.0e-3         -3
     .01            -2               1.0e-2         -2
     .1             -1               1.0e-1         -1
     * * * * * * * * *            &lt;
     1               0               1.0e0           0
     1000            3               1.0e3           3
     1000000         6               1.0e6           6
     1000000000      9               1.0e9           9
                                  &gt;  *****************
     
     
     +++  File "decimal" differs from file "scientific"
</pre>
   <p class="noindent">proving that the filter does not get confused.

   <p>No problems come out also in the case when for the same not blurred field
the scientific notation is used in both files. 
If the files <samp><span class="file">sc1</span></samp> and <samp><span class="file">sc2</span></samp> contain
<pre class="verbatim">  1.E-3          -3
  1.00E-2        -2
  1.0E-1         -1
  1.0000E0        0
001.0E3           3
+01.000E6         6
  1.0E+09         9
  1.0E+10        10
* * * * * * * * * *
</pre>

<p class="noindent">and
<pre class="verbatim">*****************
 1.0e-003      -3
 1.0e-2        -2
 1.0e-1        -1
 1.0e0          0
+1.0e3          3
 1.0e+6         6
 1.0e9          9
</pre>

<p class="noindent">respectively, then &lsquo;<samp><span class="samp">numdiff -f -z 2- sc1 sc2</span></samp>&rsquo;
correctly displays
<pre class="example">                                  &gt;  *****************
       1.E-3          -3              1.0e-003      -3
       1.00E-2        -2              1.0e-2        -2
       1.0E-1         -1              1.0e-1        -1
       1.0000E0        0              1.0e0          0
     001.0E3           3             +1.0e3          3
     +01.000E6         6              1.0e+6         6
       1.0E+09         9              1.0e9          9
       1.0E+10        10          &lt;
     * * * * * * * * * *          &lt;
     
     
     +++  File "sc1" differs from file "sc2"
</pre>
   <p class="noindent">The filter can even handle an improper use
of the scientific notation, meaning for example that
it can recognize &lsquo;<samp><span class="samp">123.456E+2</span></samp>&rsquo;
and &lsquo;<samp><span class="samp">1.23456E+4</span></samp>&rsquo; as equal.

   <p>We can see this in the case of the files <samp><span class="file">Scnot1</span></samp>:
<pre class="verbatim">-------------------------
1.2E0             *     1
2.45E-1           *     2
-3.678E-2         *     3
</pre>

<p class="noindent">and <samp><span class="file">Scnot2</span></samp>:
<pre class="verbatim">12E-1             *     1
245E-3            *     2
-0.003678E+1      *     3
</pre>

<p class="noindent">&lsquo;<samp><span class="samp">numdiff -f -z 3- Scnot1 Scnot2</span></samp>&rsquo;
displays the report:
<pre class="example">     -------------------------    &lt;
     1.2E0             *     1       12E-1             *     1
     2.45E-1           *     2       245E-3            *     2
     -3.678E-2         *     3       -0.003678E+1      *     3
     
     
     +++  File "Scnot1" differs from file "Scnot2"
</pre>
   <p class="noindent">which is exactly what you would expect in such a case. 
Also pretty hard cases do not confuse the filter. 
If <samp><span class="file">Scnot1</span></samp> is given by
<pre class="verbatim"> 1.2000e0         *     1
02.4500e-1        *     2
-003.678E-2       *     3
</pre>

<p class="noindent">and <samp><span class="file">Scnot2</span></samp> is the same file as before, the output of
the command &lsquo;<samp><span class="samp">numdiff -f -z 3- Scnot1 Scnot2</span></samp>&rsquo; is still right:
<pre class="example">      1.2000e0         *     1       12E-1             *     1
     02.4500e-1        *     2       245E-3            *     2
     -003.678E-2       *     3       -0.003678E+1      *     3
     
     
     +++  Files "Scnot1" and "Scnot2" have the same structure
</pre>
   <p>Till now we have always used the option <samp><span class="option">-f</span></samp>
with no argument. 
<a name="Use-of-the-option-_002df"></a>But <samp><span class="option">-f</span></samp> accepts an optional argument,
which can be used to
control how <samp><span class="option">-f</span></samp> displays its output. 
If you provide an argument, care not to leave any space
between the option and the argument:
&lsquo;<samp><span class="samp">-f60</span></samp>&rsquo; is correct while &lsquo;<samp><span class="samp">-f 60</span></samp>&rsquo;
makes Numdiff terminate after printing an error message.

   <p>If the argument is a positive number <var>NUM</var>, then
the side-by-side output produced by <samp><span class="option">-f</span></samp>
will be <var>NUM</var> columns wide. The default value
for the width of the output is 130, which can fit onto a
traditional printer line, and is the one used
when <samp><span class="option">-f</span></samp> has no argument, or the supplied argument is zero. 
In other words, &lsquo;<samp><span class="samp">-f</span></samp>&rsquo; and &lsquo;<samp><span class="samp">-f0</span></samp>&rsquo; are just easier to remind
versions of &lsquo;<samp><span class="samp">-f130</span></samp>&rsquo;.

   <p>A negative argument has the same
effect as the positive number with the same absolute value,
but it causes in addition the removal of
common lines from the output. 
For example, the command &lsquo;<samp><span class="samp">numdiff -z 1:2 -Z 2:2 -f-130 Table1 Table2</span></samp>&rsquo;
displays the following text
<pre class="example">     -5       2.236068            &lt;
     -3       1.732051            &lt;
     -1       1.000000            &lt;
     - - - - - - - - -            &lt;
     1        1.000000            &lt;
     3        1.732051            &lt;
     - - - - - - - - -            &lt;
     5        2.236068            &lt;
     7        2.645751            &lt;
     - - - - - - - - -            &lt;
     9        3.000000            &lt;
     11       3.316625            &lt;
     - - - - - - - - -            &lt;
     - - - - - - - - -            &lt;
     13       3.605551            &lt;
                                  &gt;  ********************END
     
     
     +++  File "Table1" differs from file "Table2"
</pre>
   <p>In conjunction with the option <samp><span class="option">-f</span></samp> or <samp><span class="option">-O</span></samp> you can use
<samp><span class="option">-T</span></samp> to expand tabs to spaces in the output
produced by <samp><span class="option">-f</span></samp> / <samp><span class="option">-O</span></samp>. This is useful to preserve the
alignment of tabs in the input files, if it is
thrown off by the presence of the gutter.

   <p>The options <samp><span class="option">-H</span></samp> and <samp><span class="option">-m</span></samp> affect the
performance of the filter of Numdiff. 
But performance has more than one dimension and
these options improve one aspect of performance at
the cost of another, or they improve performance in some cases while
hurting it in others.

   <p>The way that the filter re-synchronizes two files to compare always
comes up with a near-minimal set of deletions/insertions of lines. 
Usually it is good enough for practical purposes. 
If the filter displays a large set of line deletions/insertions, you
might want it to use a modified algorithm that sometimes produces a
smaller set of differences.  The <samp><span class="option">-m</span></samp> option does this;
however, it can also cause the filter to run more slowly than usual,
so it is not the default behavior.

   <p>If the files you are comparing are large and have small groups of
changes scattered throughout them, you can use the
<samp><span class="option">-H</span></samp> option to make a different modification to the
algorithm that the filter uses.  If the input files have a constant small
density of changes, where change means deletion/insertion of lines,
this option speeds up the comparisons without
changing the output or in the worst case introducing minor modifications.

<div class="node">
<a name="Warnings"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Index">Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Filtering">Filtering</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 Warnings</h2>

<p><a name="index-Warnings-33"></a><a name="index-Notes-34"></a><a name="index-Caveats-35"></a>
     <ul>
<li>Bug reports have to be sent to the address
<a href="mailto:ivprimi(at)libero(dot)it">ivprimi(at)libero(dot)it</a> . Please, put Numdiff
in the subject and indicate the version of the operating system you
are running (in particular, do not forget to specify if
it is a 32- or a 64-bit system), and, if you know it,
the version of the compiler used to build Numdiff. 
Please write also whether your version
of Numdiff uses the GNU MP library or not. 
Before writing an email be sure to run the latest
stable version of Numdiff, I do not provide
support for older versions.

     <li>Numdiff does not accept numbers in scientific notation
whose exponents lie outside the range -1073741824, <small class="dots">...</small>, +1073741824. 
If such a number is found in any of the files to compare,
the execution of the program is stopped
after printing a suitable error message on stderr. 
Under the assumption that the numeric format in use is the default one,
with "1.0001e-2147483640" the displayed error messages is
     <pre class="example">          numdiff: A number with a too small exponent has been found,
          namely "1.0001e-2147483640".
          Exponents smaller than -1073741824 are not accepted,
          the execution of the program ends now
</pre>
     <li><a name="with-GNU-MP-is-better"></a>If Numdiff has been built with its own internal support
for multiple precision arithmetic instead of being linked
against the GNU MP Library,
then performance degradation and memory exhaustion can already make
impossible to handle exponents of magnitude 10^6 = 1000000. 
This is what I obtained on my laptop, equipped with a dual core processor @1.50 GHz
and with 1GB of RAM, when I tried to compare
the numbers 1.101e1000000000 and 1.0e1000000000:
     <pre class="example">          numdiff: Insufficient memory for new allocation,
          the execution of the program ends now
</pre>
     <p>In addition, you can overload the processor with numbers
whose exponents lie outside the range -1000000, <small class="dots">...</small>, 1000000. 
But at least on my machine, everything works fine and quick enough
as long as exponent and size of the mantissa of the numbers
are in the range -1000, <small class="dots">...</small>, 1000. 
Be careful and remember that Numdiff is distributed
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

     <p>Consider also that, if you have numeric data with exponents
outside the range -300, <small class="dots">...</small>, 300, probably there is something
wrong with your data: either you are using the wrong scale,
or you should replace very small numbers, like 1e-100, by zero,
or it is quite likely that the machine/program/algorithm which
produced these data is not working right.

     <li>If Numdiff has been linked against the
GNU Multiple Precision Arithmetic Library (also called GNU MP),
then the precision it uses is typically higher
than the specified one. On my machine the actual value
of the precision is 20 if the user gives a value between 0 and 20,
30 if the user specifies a precision between 21 and 30,
40 for a user-specified value between 31 and 40, and so on. 
Anyway, the actual precision is never less than
the one required by the user.

     <li>After reading a numeric field, Numdiff truncates its value
if this number has <i>too much</i> digits with respect
to the current precision. 
To be precise, denoted by
<var>P</var> the current value of the precision, the following
rules apply.

     <p>If <samp><span class="command">numdiff</span></samp> has been built with
its own internal support for multiple precision arithmetic, then
          <ul>
<li>if the number is written in ordinary decimal notation, <samp><span class="command">numdiff</span></samp>
will consider, in addition to all digits of the integer part, only
the first <var>P</var> digits of the fractional part;
<li>if the value is written in scientific notation, then <samp><span class="command">numdiff</span></samp>
will only consider the first <var>P</var> digits of the fractional part
of the mantissa. 
</ul>

     <p>If <samp><span class="command">numdiff</span></samp> uses the GNU MP library
to perform its computations, the value of a numeric
field is first translated into scientific notation and then
only the first <var>P</var> digits of the fractional part
of the mantissa are considered.

     <p>By current value of the precision I mean the integer value
specified by the option <samp><span class="option">-#</span></samp>, or the default one (35)
when this option is not in use.

     <li>You can find out whether your local version of <samp><span class="command">numdiff</span></samp>
is relying on GNU MP or not by executing the command &lsquo;<samp><span class="samp">numdiff -v</span></samp>&rsquo;. 
If <samp><span class="command">numdiff</span></samp> uses GNU MP, then this command will display
the following message or similar (possibly translated
into your mother language) among other information:
     <pre class="example">          The software has been linked against
          the GNU Multiple Precision Arithmetic Library,
          version number 4.2.4.
</pre>
     <p class="noindent">If <samp><span class="command">numdiff</span></samp> does not rely on GNU MP, then
the displayed message will be (up to translation into
your mother language)
     <pre class="example">          The software has been built with
          its own internal support for multiple precision arithmetic.
</pre>
     <li>Numdiff can only be used on text files:
the program terminates after printing a suitable error message
if one of the files to compare turns out to be a binary file. 
To detect if a file is binary or not, <samp><span class="command">numdiff</span></samp> checks
for the presence of null bytes (0x00) in the file.

     <li>If you are not including the so called white-space characters
(usually &lsquo;<samp> </samp>&rsquo;, &lsquo;<samp><span class="samp">\t</span></samp>&rsquo;, &lsquo;<samp><span class="samp">\f</span></samp>&rsquo;, &lsquo;<samp><span class="samp">\v</span></samp>&rsquo; and &lsquo;<samp><span class="samp">\r</span></samp>&rsquo;)
in the set of field delimiters, then a real and an imaginary number
which are separated just by white-spaces can be coupled together
and considered as a whole complex number. 
For example, if you are using only <strong>colon</strong> (&lsquo;<samp><span class="samp">:</span></samp>&rsquo;) and
<strong>newline</strong> as field delimiters and Numdiff finds a line
like that
<pre class="verbatim">     ::::3.0-5.6e-356i::::-12.9   +4.34i::::-12.9    4.34i::::New York::::
</pre>

     <p class="noindent">then it will consider this line as formed by four fields, the first two
are numeric and given by the complex numbers <i>3.0-5.6e-356i</i> and
<i>-12.9+4.34i</i>, the last two ones are the strings <tt>New York</tt>
and <tt>-12.9    4.34i</tt>. 
I still do not know if I will modify this in the next version
of Numdiff, so that the program recognizes only <tt>3.0-5.6e-356i</tt>
as numeric field and treats <tt>-12.9   +4.34i</tt> as non-numeric
due to the presence of spaces in the middle. 
<tt>-12.9    4.34i</tt> is already considered as non-numeric
due to the absence of a leading sign in the imaginary value.

     <li>We have seen that one of the two files passed to <samp><span class="command">numdiff</span></samp>
can be <tt>-</tt>, which refers to stdin (standard input). In this way one of
the two files to compare can be the output produced by another
command, like in &lsquo;<samp><span class="samp">cat file2 | numdiff -a 1.0e-3 file1 -</span></samp>&rsquo;. 
However, if you activate the filter by means of the options <samp><span class="option">-z</span></samp> or/and
<samp><span class="option">-Z</span></samp>, Numdiff can not work with the standard input unless you
use also the option <samp><span class="option">-f</span></samp>. Therefore, the command
&lsquo;<samp><span class="samp">cat file2 | numdiff -a 1.0e-3 -z @ file1 -</span></samp>&rsquo;
displays only the error message
<pre class="verbatim">     numdiff: -: Illegal seek
</pre>
(or maybe the translation of this message in the language
 you are using on your computer)
but &lsquo;<samp><span class="samp">cat file2 | numdiff -a 1.0e-3 -z @ -f file1 -</span></samp>&rsquo;
works as expected.

     <li>This manual describes the version 5.8 of Numdiff. 
Prior 5.x versions did not recognize all the options that are
currently accepted, versions 4.0.0 and 3.x used even a
different format for the output. 
</ul>

<div class="node">
<a name="GNU-Free-Documentation-License"></a>
<p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A GNU Free Documentation License</h2>

<p><a name="index-GNU-Free-Documentation-License-36"></a><a name="index-GNU-FDL-37"></a><a name="index-FDL-38"></a>

<!-- The GNU Free Documentation License. -->
<div align="center">Version 1.3, 3 November 2008</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
</pre>
     <ol type=1 start=0>
<li>PREAMBLE

     <p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <dfn>free</dfn> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially. 
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

     <p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

     <p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

     <li>APPLICABILITY AND DEFINITIONS

     <p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

     <p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

     <p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

     <p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

     <p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

     <p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent. 
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.

     <p>Examples of suitable formats for Transparent copies include plain
<span class="sc">ascii</span> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.

     <p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

     <p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.

     <p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.

     <p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

     <li>VERBATIM COPYING

     <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

     <p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

     <li>COPYING IN QUANTITY

     <p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

     <p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

     <p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material. 
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

     <p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

     <li>MODIFICATIONS

     <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

          <ol type=A start=1>
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

          <li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

          <li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

          <li>Preserve all the copyright notices of the Document.

          <li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

          <li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

          <li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

          <li>Include an unaltered copy of this License.

          <li>Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

          <li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

          <li>For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

          <li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

          <li>Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

          <li>Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

          <li>Preserve any Warranty Disclaimers.
          </ol>

     <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

     <p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

     <p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

     <p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

     <li>COMBINING DOCUMENTS

     <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

     <p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

     <p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;

     <li>COLLECTIONS OF DOCUMENTS

     <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

     <p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

     <li>AGGREGATION WITH INDEPENDENT WORKS

     <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit. 
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

     <p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form. 
Otherwise they must appear on printed covers that bracket the whole
aggregate.

     <li>TRANSLATION

     <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

     <p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.

     <li>TERMINATION

     <p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.

     <li>FUTURE REVISIONS OF THIS LICENSE

     <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

     <p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

     <li>RELICENSING

     <p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.

     <p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

     <p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.

     <p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.

     <p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.

        </ol>

<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<pre class="smallexample">       Copyright (C)  <var>year</var>  <var>your name</var>.
       Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU Free Documentation License, Version 1.3
       or any later version published by the Free Software Foundation;
       with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
       Texts.  A copy of the license is included in the section entitled ``GNU
       Free Documentation License''.
</pre>
   <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with<small class="dots">...</small>Texts.&rdquo; line with this:

<pre class="smallexample">         with the Invariant Sections being <var>list their titles</var>, with
         the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
         being <var>list</var>.
</pre>
   <p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

   <p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<!-- Local Variables: -->
<!-- ispell-local-pdict: "ispell-dict" -->
<!-- End: -->
<div class="node">
<a name="Index"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Warnings">Warnings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Index</h2>

<ul class="index-cp" compact>
<li><a href="#index-Acknowledgments-5">Acknowledgments</a>: <a href="#Acknowledgments">Acknowledgments</a></li>
<li><a href="#index-Build-18">Build</a>: <a href="#Installing">Installing</a></li>
<li><a href="#index-Caveats-35">Caveats</a>: <a href="#Warnings">Warnings</a></li>
<li><a href="#index-Command-line-options-for-ndselect-29">Command line options for ndselect</a>: <a href="#Invoking-ndselect">Invoking ndselect</a></li>
<li><a href="#index-Command-line-options-for-numdiff-21">Command line options for numdiff</a>: <a href="#Invoking-numdiff">Invoking numdiff</a></li>
<li><a href="#index-Compile-17">Compile</a>: <a href="#Installing">Installing</a></li>
<li><a href="#index-Copying-Conditions-1">Copying Conditions</a>: <a href="#Copying">Copying</a></li>
<li><a href="#index-Diagnostics-_0028ndselect_0029-31">Diagnostics (ndselect)</a>: <a href="#Invoking-ndselect">Invoking ndselect</a></li>
<li><a href="#index-Diagnostics-_0028numdiff_0029-23">Diagnostics (numdiff)</a>: <a href="#Invoking-numdiff">Invoking numdiff</a></li>
<li><a href="#index-FDL-38">FDL</a>: <a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></li>
<li><a href="#index-Filter-32">Filter</a>: <a href="#Filtering">Filtering</a></li>
<li><a href="#index-Filter-output-_0028numdiff_0029-15">Filter output (numdiff)</a>: <a href="#Filter-output">Filter output</a></li>
<li><a href="#index-Format-of-the-reports-12">Format of the reports</a>: <a href="#Output-format">Output format</a></li>
<li><a href="#index-GNU-FDL-37">GNU FDL</a>: <a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></li>
<li><a href="#index-GNU-Free-Documentation-License-36">GNU Free Documentation License</a>: <a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></li>
<li><a href="#index-GNU-General-Public-License-3">GNU General Public License</a>: <a href="#Copying">Copying</a></li>
<li><a href="#index-GPL-4">GPL</a>: <a href="#Copying">Copying</a></li>
<li><a href="#index-How-to-use-numdiff-10">How to use numdiff</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-Install-16">Install</a>: <a href="#Installing">Installing</a></li>
<li><a href="#index-Introduction-7">Introduction</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-Invoking-ndselect-27">Invoking ndselect</a>: <a href="#Invoking-ndselect">Invoking ndselect</a></li>
<li><a href="#index-Invoking-numdiff-19">Invoking numdiff</a>: <a href="#Invoking-numdiff">Invoking numdiff</a></li>
<li><a href="#index-License-2">License</a>: <a href="#Copying">Copying</a></li>
<li><a href="#index-ndselect-_0028introduction-to-its-use_0029-25">ndselect (introduction to its use)</a>: <a href="#ndselect">ndselect</a></li>
<li><a href="#index-Notes-34">Notes</a>: <a href="#Warnings">Warnings</a></li>
<li><a href="#index-Options_002c-command-line-_0028ndselect_0029-28">Options, command line (ndselect)</a>: <a href="#Invoking-ndselect">Invoking ndselect</a></li>
<li><a href="#index-Options_002c-command-line-_0028numdiff_0029-20">Options, command line (numdiff)</a>: <a href="#Invoking-numdiff">Invoking numdiff</a></li>
<li><a href="#index-Output-format-_0028numdiff_0029-11">Output format (numdiff)</a>: <a href="#Output-format">Output format</a></li>
<li><a href="#index-Overview-mode-of-numdiff-13">Overview mode of numdiff</a>: <a href="#Overview-mode">Overview mode</a></li>
<li><a href="#index-Predefined-settings-of-numdiff-24">Predefined settings of numdiff</a>: <a href="#Invoking-numdiff">Invoking numdiff</a></li>
<li><a href="#index-Purposes-9">Purposes</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-Side_002dby_002dside-report-_0028numdiff_0029-14">Side-by-side report (numdiff)</a>: <a href="#Overview-mode">Overview mode</a></li>
<li><a href="#index-Synopsis-_0028ndselect_0029-30">Synopsis (ndselect)</a>: <a href="#Invoking-ndselect">Invoking ndselect</a></li>
<li><a href="#index-Synopsis-_0028numdiff_0029-22">Synopsis (numdiff)</a>: <a href="#Invoking-numdiff">Invoking numdiff</a></li>
<li><a href="#index-Thanks-6">Thanks</a>: <a href="#Acknowledgments">Acknowledgments</a></li>
<li><a href="#index-Tools-26">Tools</a>: <a href="#ndselect">ndselect</a></li>
<li><a href="#index-Usage-of-numdiff-8">Usage of numdiff</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-Warnings-33">Warnings</a>: <a href="#Warnings">Warnings</a></li>
   </ul></body></html>

